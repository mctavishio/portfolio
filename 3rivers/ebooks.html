<!DOCTYPE html>
<html lang="en">
<head>
	<title>blue atlas ebooks</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<meta name="description" content="mctavish ::: blue atlas ::: ebooks" />
	<meta name="keywords" content="mctavish net.art generative algorithmic code electronic literature" />
	<meta name="author" content="kathy mctavish">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/manifest.json">
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "ebooks",
			"breadcrumb": "mctavish.io > blueatlas > ebooks",
          		"url": "http://www.mctavish.io/blueatlas/ebooks.html",
			"description": "blue atlas ::: ebooks",
			"datePublished": "2021-02-13",
          		"image": "https://www.mctavish.io/apple-touch-icon.png",
			"author": "http://mctavish.io",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-0989MECNZV"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-0989MECNZV');
	</script>
	<link rel="stylesheet" href="/css/mctavish.css"/>
	
</head>
<body id="top" >

<div id="svgframe" class="frame zlow">
	<svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame" ></svg>
</div>
<div id="wordframe" class="frame z0"></div>
<div id="subtextframe" class="frame z0"></div>
<div id="contentframe">
<main id="main">
<header>
	<h1>ebooks / pdf flipbooks</h1>
	<h2>generative drawings</h2>
</header>
<!-- <ul data-role="narrator" class="info compress">
	<li class="title typewriter" title="telegraph" id="telegraph"></li>
	<li class="title  typewriter" title="clock" id="clock">here | now</li>
</ul> -->


<!-- <div class="screenreader-text">hello world dear screen reader</div> -->
<fieldset>
<legend>actions</legend>
<nav>
	<ul class="stanza">
		<!-- <li><a href="#" id="soundlink" class="corelink">turn on sound</a></li> -->
		<li><a href="#maincontent" id="skiptomaincontent" class="corelink">skip to main content</a></li>
		<li><a href="index.html" id="homelink" class="corelink">return home</a></li>
		<!-- <li><a href="#" id="highcontrastlink" class="corelink">make high contrast</a></li> -->
	</ul>
</nav>
<label for="sound"><input id="sound" type="checkbox"> play sound</label>
<label for="highcontrast"><input id="highcontrast" type="checkbox"> high contrast</label>
<label for="darklight"><input id="darklight" type="checkbox"> dark / light</label>
</fieldset>

<article id="maincontent">
	<header>
	<a href="#top" aria-label="jump to top">^</a><h1> notes</h1>
	</header>
	<p>Below are a set of links to chance-infused, algorithmic sketches.</p>
	<div class="screenreader-text"><p>The structure of this page itself also represents a further movement towards accessibility (<a href="https://www.w3.org/WAI/standards-guidelines/wcag/wcag3-intro/">WCAG 3.0</a>).</p>
	<p>This is a journey that is still unfolding for me. I will write more about this process in the months ahead and will continue to hone all of my content towards the dream of a cross-sensory, accessible art form in the cloud.</p>
	<p>Your feedback is always welcome.</p></div>
</article>

<article>
	<header>
	<a href="#top" aria-label="jump to top">^</a><h1> red black white</h1>
	</header>
	<ul class="countsuffix stanza">
		<!-- red -->
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice1_7x5postcard_1609716473039_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice10_7x5postcard_1609637309634_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice6_postcard_1609552427272_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice4_postcard_1609554318535_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice5_postcard_1609555530001_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice7_postcard_1609304545758_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice12_7x5postcard_1609725137193_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice3_postcard_1609553521783_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice12_7x5postcard_1609726307688_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice13_7x5postcard_1609725270705_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice13_7x5postcard_1609725659848_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice14_7x5postcard_1609728391558_output.pdf">view pdf</a></li>
	</ul>
</article>
<article >
	<header>
	<a href="#top" aria-label="jump to top">^</a><h1> blue black white</h1>
	</header>
	<ul class="countsuffix stanza">
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/blueatlaspostcards20201222_bell.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice1_7x5postcard_1609701498576_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice12_7x5postcard_1609726401596_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice13_7x5postcard_1609726050523_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice2_7x5postcard_1609701461511_output.pdf">view pdf</a></li>
	</ul>
</article>
<article >
	<header>
	<a href="#top" aria-label="jump to top">^</a><h1> yellow black white</h1>
	</header>
	<ul class="countsuffix stanza">
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice1_7x5postcard_1609716530994_output.pdf">view pdf</a></li>
	</ul>
</article>
<article >
	<header>
	<a href="#top" aria-label="jump to top">^</a><h1> black white</h1>
	</header>
	<ul class="countsuffix stanza">
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice1_7x5postcard_1609701524938_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice13_7x5postcard_1609725378762_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice12_7x5postcard_1609726513422_output.pdf">view pdf</a></li>
	</ul>
</article>
<article >
	<header>
	<a href="#top" aria-label="jump to top">^</a><h1> red yellow black white</h1>
	</header>
	<ul class="countsuffix stanza">
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice8_postcard_1609559475213_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice9_7x5postcard_1609564016856_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice9_7x5postcard_1609564836867_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice13_7x5postcard_1609726157915_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice8_7x5postcard_1609560952356_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice8_7x5postcard_1609561364587_output.pdf">view pdf</a></li>
		<li><a class="countitem" href="https://storage.googleapis.com/www.blueboatfilms.com/stills/7x5postcard/print_lattice8_7x5postcard_1609561512051_output.pdf">view pdf</a></li>
	</ul>
	<!-- <p>there is a hole in the middle ... a bowless string a breathless reed a bony piano harp naked keys</p> -->
</article>
</main>
<footer>
<!-- <audio id="audio1" controls autoplay src="https://storage.googleapis.com/www.blueboatfilms.com/sound/monksfromouterspacecistern.mp3">Your browser does not support the audio tag.</audio>
<audio id="audio2" controls autoplay src="https://storage.googleapis.com/www.blueboatfilms.com/sound/clarinetnotes.mp3">Your browser does not support the audio tag.</audio>
 --><!-- <audio id="audio3" src="https://storage.googleapis.com/www.blueboatfilms.com/sound/IVdfd.mp3" type="audio/mpeg">Your browser does not support the audio tag.</audio> -->
<p id="animationcontrols" style="min-width:100%">
<label for="animationonly"><input id="animationonly" type="checkbox"> animation only (hide text)</label>
</p>
</footer>

</div>

</body>
<script src="../code/velocity.min.js"></script>
<script src="../code/kefir201911.min.js"></script>
<script src="../code/blueatlas.js"></script>
<script>
let z = getz();
z.radio.start(z);

//set up sound
( () => {
	const tracks = ["monksfromouterspacecistern", "clarinetnotes"];
	const elements = [0,1].reduce( (acc, j) => {
			let el = z.tools.createElement({
				parentel: z.elements["body"].el, tag: "audio",
				attributes: [
					["id", "audio"+j], ["type", "audio/mpeg"], ["src", "https://storage.googleapis.com/www.blueboatfilms.com/sound/IIca"]
				]
			});
			acc[j] = { el: el };
		return acc;
		}, []);
	elements.forEach( element => {
		let track = tracks[z.tools.randominteger(0, tracks.length)];
		z.radio.jukebox( { tracks:tracks, partial:true, order:"random", j:0, duration:[12,240], volume:[0.2,0.6], el: element.el});
	});
	// const elements = [];
	// document.querySelectorAll("audio").forEach(element => {
	// 	elements.push({ el: element });
	// });
	z.radio.play = () => {
		elements.forEach(element => {
			// element.el.play();
			// z.tools.logmsg("now request playing " + element.el.src);
			let playPromise = element.el.play();
				playPromise.then( () => {
				z.tools.logmsg("now playing " + element.el.src);
			})
			.catch(error => {
				z.tools.logerror("error playing " + element.el.src + " " + error);
				// Auto-play was prevented
				// Show paused UI.
			});
		});
	};
	z.radio.pause = () => {
		elements.forEach(element => {
			element.el.pause();
		});
	};
	const defaultduration = (dt,n,graintdt,clip) => dt/(graindt*2);
	const defaultfadetime = (dt,n,graintdt,clip) => dt/(graindt*20);
	const defaultpart = (dt=4000, n=4, graindt=400, chance=0.8, duration=defaultduration, fadetime=defaultfadetime, instruments=["celloknockcanyon"]) => { return {dt:dt, chance:chance, graindt: graindt, n: 5, duration: duration(dt,n,graintdt), fadetime: fadetime(dt,n,graintdt), instruments: ["celloknockcanyon"] } };
	const score = [
		// ((dt=251000, n=4, graindt=800, duration=3, chance=0.8, volume=0.3) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["bagpipe1high", "bagpipegeese"] } })(),
		// ((dt=251000, n=5, graindt=600, duration=2, chance=0.8, volume=0.3) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration, fadetime: duration*.1, volume:volume, instruments: ["bagpipe1high", "bagpipegeese"] } })(),
		// ((dt=118000, n=2, graindt=600, duration=4, chance=0.8, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["lookingforyou0"] } })(),
		// ((dt=119000, n=1, graindt=900, duration=5, chance=0.8, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["lookingforyou0"] } })(),
		// ((dt=51000, n=8, graindt=480, duration=10, chance=0.9, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["mags1harmonic", "magsII_a","magsIII_a","magsIV_b","magsV_b","magsIV_b","magsV_b","magsIV_b","magsV_b", "magsV_b", "magsV_b","magsvii_b"] } })(),
		// ((dt=51000, n=6, graindt=680, duration=8, chance=0.9, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["magsII_a","magsIII_a","magsIV_b","magsV_b","magsIV_b","magsV_b","magsIV_b","magsV_b","magsV_b", "magsV_b","magsvii_b"] } })(),
		// ((dt=51000, n=3, graindt=1080, duration=10, chance=0.9, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["magsII_a","magsIII_a","magsIV_b","magsV_b","magsIV_b","magsV_b","magsIV_b","magsV_b","magsV_b", "magsV_b","magsvii_b"] } })(),
		((dt=111000, n=3, graindt=1100, duration=10, chance=0.8, volume=0.3) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.2, volume:volume, instruments: ["voxmct0b"] } })(),
		((dt=111000, n=4, graindt=900, duration=10, chance=0.8, volume=0.3) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.2, volume:volume, instruments: ["voxmct0b"] } })(),
		((dt=71000, n=2, graindt=600, duration=4, chance=0.8, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["lookingforyou0"] } })(),
		((dt=71000, n=1, graindt=900, duration=5, chance=0.8, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["lookingforyou0"] } })(),
		((dt=91000, n=4, graindt=900, duration=5, chance=0.8, volume=0.4) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["vox20200124_itwas"] } })(),
		((dt=51000, n=2, graindt=800, duration=8, chance=0.8, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["lookingforyou0"] } })(),
		((dt=52000, n=1, graindt=900, duration=5, chance=0.8, volume=0.6) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["lookingforyou0"] } })(),
		((dt=101000, n=4, graindt=900, duration=5, chance=0.8, volume=0.4) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["vox20200124_itwas"] } })(),
		((dt=81000, n=4, graindt=900, duration=5, chance=0.8, volume=0.4) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["vox20200124_itwas"] } })(),
		((dt=81000, n=3, graindt=400, duration=12, chance=0.8, volume=0.4) => { return {dt:dt, chance:chance, graindt: graindt, n: n, duration: duration, fadetime: duration*.1, volume:volume, instruments: ["birdcry"] } })(),
	];
	z.radio.load(z.tools.flatten(score.map(part => part.instruments)));
	score.forEach( (part,j) => {
		z.streams["clock"].filter( e => e.t%Math.floor(part.dt/1000)===0 && z.tools.randominteger(0,10)<part.chance*10 && z.radio.soundplaying)
			.onValue( e=> {
				let clip = part.instruments[z.tools.randominteger(0,part.instruments.length)];
				Kefir.sequentially(part.graindt, [...Array(part.n).keys()]).onValue( x => { 
					// z.radio.playbuffer({duration:part.duration, fadetime:part.fadetime, instrumentname:clip, volume: z.tools.randominteger(z.data.sound.instruments[clip].minvolume*10, z.data.sound.instruments[clip].maxvolume*10)/20});
					z.tools.logmsg("-- " + clip)
					z.radio.playbuffer({duration:part.duration, fadetime:part.fadetime, instrumentname:clip, volume: z.tools.randominteger(z.data.sound.instruments[clip].minvolume*10, z.data.sound.instruments[clip].maxvolume*10)*part.volume/10});
				});
			})
	});
})();

//draw
( () => {

	z.streams["draw"] = Kefir.combine([z.streams["clock"]], [z.streams["dimensions"]], (clock, dimensions) => { return {clock:clock, dimensions:dimensions} })
		.scan( (state, e) => { 
			state.clock = e.clock;
			state.dimensions = e.dimensions;
			state.count = state.count + 1;
			return state;
		}, {clock:{t:0}, dt:1}  );

	//lines
	( dt => {
		let nshapes = [1,1][z.dimensions.v];
		let width = window.innerWidth, height = window.innerHeight;
		let colors = [[z.data.colors.pigments.red,1]].reduce( (acc, color, j) => {
			Array.prototype.push.apply(acc,[...Array(color[1]).keys()].reduce( (acc2,k) => { acc2.push(color[0]); return acc2 },[]) );
			return acc;
		}, []);
		const elements = [...Array(nshapes).keys()].reduce( (acc, j) => {
			let el = z.tools.createElement({
				parentel: z.elements["svg"].el, tag: "line",
				ns: "http://www.w3.org/2000/svg",
				attributes: [
					["stroke-width", width], ["stroke-opacity", 0.01], ["stroke", colors[j%colors.length]],
					["x1", width/2], ["x2", width/2], ["y1", 0], ["y2", height]
				],
				cssclasses: ["shape", "line"]
			});
			acc[j] = { el: el };
		return acc;
		}, []);
		const drawings = [
			e => {
				try {
					let count = e.clock.t/dt;
					let width = e.dimensions.width, height = e.dimensions.height;
					let y1 = [0, e.dimensions.height, e.dimensions.height/2, 0][count%4];
					let y2 = [e.dimensions.height, 0, e.dimensions.height/2, 0][count%4];
					Velocity({	
						elements: elements[count%nshapes].el,
						properties: { strokeOpacity: 1.0, strokeWidth: e.dimensions.width, strokeDasharray: z.tools.randominteger(e.dimensions.min/8, e.dimensions.min/2), x1: e.dimensions.width/2, x2: e.dimensions.width/2, y1: y1, y2: y2 },
						options: { duration: z.tools.randominteger(1000*dt*nshapes/2,1000*dt*nshapes), delay: 0 },
					});
				} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
			}
		];
		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			drawings[0](e);
		})
	})(6);

	// //lines 2
	// ( dt => {
	// 	let nshapes = [2,4][z.dimensions.v];
	// 	let width = window.innerWidth, height = window.innerHeight;
	// 	const elements = [...Array(nshapes).keys()].reduce( (acc, j) => {
	// 		let el = z.tools.createElement({
	// 			parentel: z.elements["svg"].el, tag: "line",
	// 			ns: "http://www.w3.org/2000/svg",
	// 			attributes: [
	// 				["stroke-width", height], ["stroke-opacity", 0.01],
	// 				["x1", 0], ["x2", width], ["y1", height/2], ["y2", height/2]
	// 			],
	// 			cssclasses: ["shape", "line"]
	// 		});
	// 		acc[j] = { el: el };
	// 	return acc;
	// 	}, []);
	// 	let colors = [[z.data.colors.pigments.black,4], [z.data.colors.pigments.white,4], [z.data.colors.pigments.blue,0], [z.data.colors.pigments.yellow,0], [z.data.colors.pigments.red,0]].reduce( (acc, color, j) => {
	// 		Array.prototype.push.apply(acc,[...Array(color[1]).keys()].reduce( (acc2,k) => { acc2.push(color[0]); return acc2 },[]) );
	// 		return acc;
	// 	}, []);
	// 	const drawings = [
	// 		e => {
	// 			try {
	// 				let count = e.clock.t/dt;
	// 				let width = e.dimensions.width, height = e.dimensions.height;
	// 				let color = colors[z.tools.randominteger(0, colors.length)];
	// 				let x1 = [0, e.dimensions.width, e.dimensions.width, 0][count%4];
	// 				let x2 = [e.dimensions.width, 0, e.dimensions.width, 0][count%4];
	// 				Velocity({	
	// 					elements: elements[count%nshapes].el,
	// 					properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: e.dimensions.height, strokeDasharray: z.tools.randominteger(e.dimensions.min/8, e.dimensions.min/2), x1: x1, x2: x2, y1: e.dimensions.height/2, y2: e.dimensions.height/2 },
	// 					options: { duration: z.tools.randominteger(1000*dt*nshapes/2,1000*dt*nshapes), delay: 0 },
	// 				});
	// 			} catch(err) { z.tools.logerror("line animation 2 ::: " + err ) }
	// 		}
	// 	];
	// 	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	// 		drawings[0](e);
	// 	})
	// })(2);

	//lines
	( dt => {
		let nshapes = [1,2][z.dimensions.v];
		let width = window.innerWidth, height = window.innerHeight;
		let colors = [[z.data.colors.pigments.white,1], [z.data.colors.pigments.black,1]].reduce( (acc, color, j) => {
			Array.prototype.push.apply(acc,[...Array(color[1]).keys()].reduce( (acc2,k) => { acc2.push(color[0]); return acc2 },[]) );
			return acc;
		}, []);
		const elements = [...Array(nshapes).keys()].reduce( (acc, j) => {
			let el = z.tools.createElement({
				parentel: z.elements["svg"].el, tag: "line",
				ns: "http://www.w3.org/2000/svg",
				attributes: [
					["stroke-width", width], ["stroke-opacity", 0.01], ["stroke", colors[j%colors.length]],
					["x1", width/2], ["x2", width/2], ["y1", 0], ["y2", height]
				],
				cssclasses: ["shape", "line"]
			});
			acc[j] = { el: el };
		return acc;
		}, []);
		const drawings = [
			e => {
				try {
					let count = e.clock.t/dt;
					let width = e.dimensions.width, height = e.dimensions.height;
					let y1 = [0, e.dimensions.height, e.dimensions.height, 0][count%4];
					let y2 = [e.dimensions.height, 0, e.dimensions.height, 0][count%4];
					Velocity({	
						elements: elements[count%nshapes].el,
						properties: { strokeOpacity: 1.0, strokeWidth: e.dimensions.width, strokeDasharray: z.tools.randominteger(e.dimensions.min/8, e.dimensions.min/2), x1: e.dimensions.width/2, x2: e.dimensions.width/2, y1: y1, y2: y2 },
						options: { duration: z.tools.randominteger(1000*dt*nshapes/2,1000*dt*nshapes), delay: 0 },
					});
				} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
			}
		];
		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			drawings[0](e);
		})
	})(5);
	// //circles 1
	// ( dt => {
	// 	let nshapes = [2,2][z.dimensions.v];
	// 	let width = window.innerWidth, height = window.innerHeight;
	// 	let colors = [[z.data.colors.pigments.black,1], [z.data.colors.pigments.white,1]].reduce( (acc, color, j) => {
	// 		Array.prototype.push.apply(acc,[...Array(color[1]).keys()].reduce( (acc2,k) => { acc2.push(color[0]); return acc2 },[]) );
	// 		return acc;
	// 	}, []);
	// 	const elements = [...Array(nshapes).keys()].reduce( (acc, j) => {
	// 		let el = z.tools.createElement({
	// 			parentel: z.elements["svg"].el, tag: "circle",
	// 			ns: "http://www.w3.org/2000/svg",
	// 			attributes: [ ["cx", width/2], ["cy", height/2], ["stroke", colors[j%colors.length]], ["fill", colors[j%colors.length]] ],
	// 			cssclasses: ["shape", "circle"]
	// 		});
	// 		acc[j] = { el: el };
	// 	return acc;
	// 	}, []);
	// 	const drawings = [
	// 		e => {
	// 			try {
	// 				let count = e.clock.t/dt;
	// 				let r = z.tools.randominteger(e.dimensions.min/4, e.dimensions.min);
	// 				Velocity({	
	// 					elements: elements[count%nshapes].el,
	// 					properties: { fillOpacity: count%2===0 ? 1.0 : 1.0, strokeOpacity: count%2===0 ? 0.0: 0.0, strokeWidth: r/2, strokeDasharray: z.tools.randominteger(r/6, r), cx: e.dimensions.width/2, cy: e.dimensions.height/2, r: r },
	// 					options: { duration: z.tools.randominteger(1000*dt*nshapes/2,1000*dt*nshapes), delay: 0 },
	// 				});
	// 			} catch(err) { z.tools.logerror("circle animation 1 ::: " + err ) }
	// 		},
			
	// 	];
	// 	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	// 		drawings[0](e);
	// 	})
	// })(3);
	// //lines 2
	// ( dt => {
	// 	let nshapes = [1,2][z.dimensions.v];
	// 	let width = window.innerWidth, height = window.innerHeight;
	// 	const elements = [...Array(nshapes).keys()].reduce( (acc, j) => {
	// 		// z.tools.logmsg("create line element ::: " + j);
	// 		let el = z.tools.createElement({
	// 			parentel: z.elements["svg"].el, tag: "line",
	// 			ns: "http://www.w3.org/2000/svg",
	// 			attributes: [
	// 				["stroke-width", width], ["stroke-opacity", 0.01],
	// 				["x1", 0], ["x2", width], ["y1", height/2], ["y2", height/2]
	// 			],
	// 			cssclasses: ["shape", "line"]
	// 		});
	// 		acc[j] = { el: el };
	// 	return acc;
	// 	}, []);
	// 	let colors = [[z.data.colors.pigments.black,4], [z.data.colors.pigments.white,6], [z.data.colors.pigments.blue,0], [z.data.colors.pigments.yellow,0], [z.data.colors.pigments.red,0]].reduce( (acc, color, j) => {
	// 		Array.prototype.push.apply(acc,[...Array(color[1]).keys()].reduce( (acc2,k) => { acc2.push(color[0]); return acc2 },[]) );
	// 		return acc;
	// 	}, []);
	// 	const drawings = [
	// 		e => {
	// 			try {
	// 				let count = e.clock.t/dt;
	// 				let width = e.dimensions.width, height = e.dimensions.height;
	// 				let color = colors[z.tools.randominteger(0, colors.length)];
	// 				let x1 = [0, e.dimensions.width, e.dimensions.width, 0][count%4];
	// 				let x2 = [e.dimensions.width, 0, e.dimensions.width, 0][count%4];
	// 				Velocity({	
	// 					elements: elements[count%nshapes].el,
	// 					properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: e.dimensions.height, strokeDasharray: z.tools.randominteger(e.dimensions.min/8, e.dimensions.min/2), x1: x1, x2: x2, y1: e.dimensions.height/2, y2: e.dimensions.height/2 },
	// 					options: { duration: z.tools.randominteger(1000*dt*nshapes/2,1000*dt*nshapes), delay: 0 },
	// 				});
	// 			} catch(err) { z.tools.logerror("line animation 2 ::: " + err ) }
	// 		}
	// 	];
	// 	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	// 		drawings[0](e);
	// 	})
	// })(3);
	//circles 1
	( dt => {
		let nshapes = [2,2][z.dimensions.v];
		let width = window.innerWidth, height = window.innerHeight;
		let colors = [[z.data.colors.pigments.white,1], [z.data.colors.pigments.black,1]].reduce( (acc, color, j) => {
			Array.prototype.push.apply(acc,[...Array(color[1]).keys()].reduce( (acc2,k) => { acc2.push(color[0]); return acc2 },[]) );
			return acc;
		}, []);
		const elements = [...Array(nshapes).keys()].reduce( (acc, j) => {
			let el = z.tools.createElement({
				parentel: z.elements["svg"].el, tag: "circle",
				ns: "http://www.w3.org/2000/svg",
				attributes: [ ["cx", width/2], ["cy", height/2], ["stroke", colors[j%colors.length]], ["fill", colors[j%colors.length]] ],
				cssclasses: ["shape", "circle"]
			});
			acc[j] = { el: el };
		return acc;
		}, []);
		const drawings = [
			e => {
				try {
					let count = e.clock.t/dt;
					let r = z.tools.randominteger(e.dimensions.min/10, e.dimensions.min/2);
					Velocity({	
						elements: elements[count%nshapes].el,
						properties: { fillOpacity: count%2===0 ? 1.0 : 1.0, strokeOpacity: count%2===0 ? 0.0: 0.0, strokeWidth: r/2, strokeDasharray: z.tools.randominteger(r/6, r), cx: e.dimensions.width/2, cy: e.dimensions.height/2, r: r },
						options: { duration: z.tools.randominteger(1000*dt*nshapes/2,1000*dt*nshapes), delay: 0 },
					});
				} catch(err) { z.tools.logerror("circle animation 1 ::: " + err ) }
			},
			
		];
		z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
			drawings[0](e);
		})
	})(2);
})();

window.addEventListener('load', e => {
	window.scroll(0,0);
	// window.setTimeout(() => { document.querySelector("#contentframe").style.opacity = 1.0 }, 400);
	document.documentElement.style.setProperty("--colorx", "#454545")
});
window.addEventListener('beforeunload', e => {
	window.scroll(0,0);
});
</script>
</html>