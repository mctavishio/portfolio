<!DOCTYPE html>
<html lang="en">
<head>
	<title>sophronia two</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<meta name="description" content="sophronia" />
	<meta name="author" content="kathy mctavish">
	<!-- from ::: http://www.favicon-generator.org/ -->
	<link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="../android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
	<link rel="manifest" href="../manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

	<!-- JSON-LD : Google -->
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "sophronia two",
			"breadcrumb": "mctavish.studio > sophronia two > home",
          		"url": "http://www.mctavish.studio/sophroniatwo/index.html",
			"description": "sophroniatwo",
			"datePublished": "Wed Nov 18 2020 12:10:53 GMT-0500 (Central Daylight Time)",
          		"image": "http://www.mctavish.io/data/mctavishIcon-01-04-01-01-01.png",
			"author": "http://mctavish.io",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<link rel="stylesheet" href="../css/fieldnotes.css"/>
	<style>
		html {
			font-family: 'Trebuchet MS', Tahoma, Verdana, Helvetica, Arial, Tahoma, 'Trebuchet MS', sans-serif;
			font-family: var(--sans);
		}
	</style>
</head>
<body id="top" >
<div id="subtextframe" class="frame zlowest"></div>
<div id="svgframe" class="frame zlow"><svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame"></svg></div>
<div id="wordframe" class="frame z0"></div>
<div id="contentframe" class="absolute zhighest" style="opacity:0">
<div id="mainflex">
<main id="main" class="expand wide portfolio" data-state="expanded">	
<header>
	<h1>sophronia two</h1>
	<p><i>On the walls, the graffiti angel mixes text and digital imagery gleaned from the project database…In a glowing tent, the audience can play along with projected video and digital animations to become part of the carnival ... </i></p>
</header>
<!-- <ul data-role="narrator" class="info compress">
	<li class="title typewriter" title="telegraph" id="telegraph"></li>
	<li class="title  typewriter" title="clock" id="clock">here | now</li>
</ul> -->
<ul class="info expand">
	<li><a href="#" id="soundlink" class="corelink">turn on sound</a></li>
	<li><a href="../index.html" id="homelink" class="corelink">return to portfolio</a></li>
</ul>
<hr/>
<ul >
	<li><a href="#about" class="corelink">about</a></li>
	<li><a href="#when" class="corelink">when</a></li>
	<li><a href="#video" class="corelink">video samples</a></li>
	<li><a href="#thanks" class="corelink">thanks</a></li>
</ul>
<hr/>
<article id="about">
	<header>
	<h1><a href="#top">^</a> about</h1>
	</header>
	<div class="textContent">
		<p>
		 	From Invisible Cities, by Italo Calvino:<br/>
			“The city of Sophronia is made up of two half-cities. In one there is a great roller coaster with its steep humps, the carousel with its chain spokes, the Ferris wheel of spinning cages, the death-ride with the crouching motorcyclists, the big top with the clump of trapezes hanging in the middle. The other half-city is of stone and marble and cement, with the bank, the factories, the palaces, the slaughterhouse, the school, andall the rest. One of the half-cities is permanent, the other is temporary, and when the period of its sojourn is over, they uproot it, dismantle it, and take it off, transplanting it to the vacant lots of another half-city.
			And so every year the day comes when the workmen remove the marble pediments, lower the stone walls, the cement pylons, take down the Ministry, the monument, the docks, the petroleum refinery, the hospital, load them on trailers, to follow from stand to stand their annual itinerary. Here remains the half-Sophronia of the shooting-galleries and the carousels, the shout suspended from the cart of the headlong roller coaster, and it begins to count the months, the days it must wait before the caravan returns and a complete life can begin once again.”
		</p>
		<p>
			The collaborative project offered both physical and virtual space where participants could spin their own stories of Sophronia. During performances, guests contributed on Twitter (#sophroniatwo) or through a direct mobile input interface. Friend us on <a href="https://facebook.com/sophroniatwo" title="facebook"><span data-icon="&#xe688;" aria-hidden="true"></span> : facebook/sophroniatwo</a>. Follow the collaborative character development on <a href="https://facebook.com/sophroniatwo" title="facebook"><span data-icon="&#xe688;" aria-hidden="true"></span> : facebook/sophroniatwo</a> and on <a href="https://twitter.com/sophroniatwo" title="twitter"><span data-icon="&#xe689;" aria-hidden="true"></span> : twitter/sophroniatwo</a>.
		</p>
	</div>
</article>
<article id="when">
	<header>
	<h1><a href="#top">^</a> when</h1>
	</header>
	<div class="textContent">
		<h5>June 14, 2014</h5>
		<p>The Sophronia Project was originally performed at the <a href="http://www.walkerart.org/" title="walker art center">Walker Art Center</a> in Minneapolis from dusk to dawn for <a href="http://2014.northernspark.org/" title="northern spark">Northern Spark</a>. The collaborative project offered both physical and virtual space where participants could spin their own stories of Sophronia.</p>
		<h5>August 23, 2014</h5>
		<p>Sophronia traveled to the <a href="http://freerangefilm.com/">Free Range Film Festival Barn</a> in Wrenshall Minnesota</p>
		<h5>September 11, 2014</h5>
		<p>Sophronia flowed across the walls of the old train depot in Duluth in partnership with the <a href="http://www.duluthartinstitute.org/">Duluth Art Institute</a>.</p>
	</div>
</article>
<article id="video">
	<header>
		<h1><a href="#top">^</a> video work samples</h1>
	</header>
	<div class="textContent">
			<p>screen recordings of generated film</p>
			
			<h5>sophronia calvino / screen capture 2014 09 21</h5>
			<div class="vimeowrapper16x9" >
				<iframe src="https://player.vimeo.com/video/106773941?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
			</div>

			<hr/><hr/><hr/>
			<h5>sophronia circus city / screen capture 2014 06 11</h5>
			<div class="vimeowrapper16x9" >
				<iframe src="https://player.vimeo.com/video/97950301?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
			</div>

			<h5>sophronia city of stone / screen capture 2014 06 11</h5>
			<div class="vimeowrapper16x9" >
				<iframe src="https://player.vimeo.com/video/97937876?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
			</div>
			<h5>&raquo; <a href="https://vimeo.com/album/2890258" title="vimeo"> view kathy's sophronia album on vimeo</a></h5>
	</div>
</article>


<article id="thanks">
	<header>
		<h1><a href="#top">^</a> credits</h1>
	</header>
	<div class="textContent">
		<p>
			Inspired by Calvino’s Invisible Cities, The Sophronia Project is a digital media installation and interactive performance by artist Joellyn Rock, multimedia composer Kathy McTavish, and netprov creator Rob Wittig.
			</p>
			<h5>Collaborative Team</h5>
			<ul>
			<li>
			multimedia projections by Joellyn Rock, Kathy McTavish,
			additional video by Lizzy Siemers, Lane Ellis</li><li>
			<li>soundscape by Kathy McTavish</li>
			<li>electronic music by Tobin Dack</li>
			<li>words by Rob Wittig, Kathleen Roberts, Sheila Packa, Katelynn Monson, Mark Marino and #sophroniatwo on twitter</li><li>
			silhouette performances by Cathy Podeszwa, Emma Harvie, Gary Kruchowski, Lizzy Siemers, Jamie Harvie, Jay Sivak, Joellyn Rock, Rob Wittig<li>
			set decorating by Nancy Rogness, Karin Preus, and Ann Gumpper</li><li>
			special thanks to the Motion and Media Across Disciplines Lab at University of Minnesota Duluth</li>
			</ul>
			<p>
			The Sophronia Two project was funded by <a href="http://2014.northernspark.org/" title="northern spark">Northern Spark</a> and the <a href="http://www.walkerart.org/" title="walker art center">Walker Art Center</a>. Joellyn Rock is a fiscal year 2014 recipient of a Career Development grant from the <a href="http://www.aracouncil.org/" title="ARAC">Arrowhead Regional Arts Council</a> which is funded in part by the Minnesota Arts and Cultural Heritage Fund, Minnesota State Legislature, and The McKnight Foundation. Kathy McTavish received funding from the <a href="http://www.jeromefdn.org/">Jerome Foundation</a> to create the software behind the interactive and generative film component of the exhibit and received equipment funding from the <a href="http://aracouncil.org/">Arrowhead Regional Arts Council</a> through the arts and cultural heritage fund as appropriated by the Minnesota State Legislature with money from the Legacy Amendment vote of the people of Minnesota on November 4, 2008.
		</p>
	</div>
</article>

<audio loop=true id="audio1">
  <source src="https://storage.googleapis.com/www.blueboatfilms.com/sound/sophroniasoundscape.mp3" type="audio/mpeg">
  Your browser does not support the audio tag.
</audio>

</main>
</div>
</div>
</body>
<script src="../code/velocity.min.js"></script>
<script src="../code/kefir201911.min.js"></script>
<!-- <script src="code/atlasabsence.js"></script> -->
<script>
let width = window.innerWidth, height = window.innerHeight;
let min = Math.min(width, height), max = Math.max(width, height);
let version = (min < 680 || max < 980) ? "small" : "large";
let v = version === "small" ? 0 : 1;
let z = {};
z.tools = {
	randominteger: (min, max) => {
		return Math.floor( min + Math.random()*(max-min));
	},
	logmsg: function(msg) {
		try { 
			console.log("### ::: " + msg); 
		}
		catch(err) { z.tools.logerror(err) }
	},
	logerror: function(error) {
		try { console.log("rusty error ... " + error); }
		catch(err) {}
	},
	randomhighharmonic: () => {
		let multipliers = [10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomlowharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ]/2;
	},
	randomkey: (object) => {
		let keys = Object.keys(object);
		let key = keys[z.tools.randominteger(0,keys.length)];
		// z.tools.logmsg("key = " + key);
		return key;
	},
	datestr: (date, options) => {
		if(options===undefined) options = {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"};
		return date.toLocaleTimeString("en-US", options);
		//new Date().toLocaleTimeString("en-US", {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"});
	},
	togrid: (min=1, max=1, x=1, ndivisions=1) => {
		let dx = Math.floor( (max-min) / ndivisions );
		return Math.floor( ( x-min+dx/2)/dx )*dx + min;
	},
};
//core elements
z.elements = ( () => {
	return {
		body: { el: document.querySelector("body") },
		main: { el: document.querySelector("main") },
		// clock: { el: document.querySelector("#clock") },
		// telegraph: { el: document.querySelector("#telegraph") },
		svg:  { el: document.querySelector("#svg") },
		frames: ["subtextframe", "svgframe", "wordframe", "contentframe"].reduce( (acc, id) => {
			z.tools.logmsg("create frame element ::: " + id);
			acc[id] = { el: document.querySelector("#"+id) };
			return acc;
		}, {}),
	}
})()
	
z.streams = {
	clock: ( () => {
	let dt = 1;
	let date0 = new Date();
	let t0 = Math.floor(date0.getTime()/1000);
	let state0 = { dt: dt, count: 0, date: date0, t: t0, t0: t0 };
	return Kefir.withInterval( dt*1000, emitter => { emitter.emit( { date: new Date() } ) })
			.scan( (state, e) => { 
				state.date = e.date;
				state.t = Math.floor(e.date.getTime()/1000);
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( ),
	dimensions: ( () => {
		let dt = .4;
		const ngrids=[2,2], npasts=[0,0];
		let state0 = { dt: dt, count: 0,
			grid: { nrows: ngrids[v], ncols: ngrids[v], dx: Math.floor(width/ngrids[v]), dy: Math.floor(height/ngrids[v]), sw: 12, pastn: npasts[v] },
			width: width, height: height, 
			max: max, min: min, 
		};
		return Kefir.fromEvents(window, "resize").throttle(dt*1000)
			.scan( (state,e) => {
				state.width = window.innerWidth;
				state.height = window.innerHeight;
				state.max = Math.max(state.width, state.height);
				state.min = Math.min(state.width, state.height);
				state.grid.dx = Math.floor(state.width/state.grid.ncols);
				state.grid.dy = Math.floor(state.height/state.grid.nrows);
				state.grid.sw = Math.floor(Math.max(state.grid.dx*.03, state.grid.dy*.03, 4));
				return state
			}, state0) 
	})( ),
};

z.draw = z => {
	let ntimings = 32;
	let dtiming = Math.floor(400/ntimings);
	const timings = [...Array(ntimings).keys()].reduce( (acc, j) => {
		let duration = 500+(j*dtiming);
		acc[j] = [duration, 900-duration];
	return acc;
	}, []);

	//controls
	( () => { 
		let soundlink = document.querySelector("#soundlink");
		let telegraph = document.querySelector("#telegraph");
		let soundplaying = false;
		Kefir.fromEvents(soundlink, "click").onValue( e => {
			z.tools.logmsg("play sound !");
			if(!soundplaying) { 
				try {
					document.querySelector("#audio1").play();
					z.tools.logmsg("playback resumed");
					// telegraph.innerHTML =  "(sound on)";
					soundplaying = true;
					soundlink.innerText = "turn off sound";
					soundlink.classList.add("active");
				} catch(e) { z.tools.logerror("dashboard ::: resumeaudio " + e) } 
			}
			else { 
				try {
					document.querySelector("#audio1").pause();
					// telegraph.innerHTML =  "(sound off)";
					soundplaying = false;
					soundlink.innerText = "turn on sound";
					soundlink.classList.remove("active");
				} catch(e) { z.tools.logerror("dashboard ::: suspendaudio " + e) }
			}
		});
	})();
	const playlist = [
		["#fcfbe3", "#191918"], //"warmbw",
	];
	z.streams["color"] = ( dt => {
		let date0 = new Date();
		let t0 = Math.floor(date0.getTime()/1000);
		let state0 = { 
			dt: dt, count: 0,
			choices: playlist[ Math.floor(t0/dt)%playlist.length ]
		};
		return z.streams["clock"].filter( e => e.t%dt===0 )
			.scan( (state, e) => { 
				state.choices = playlist[ Math.floor(e.t/dt)%playlist.length ];
				// state.choices = playlist[ Math.floor(state.count)%playlist.length ];
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( 38 );
	
	z.streams["draw"] = Kefir.combine([z.streams["clock"]], [z.streams["dimensions"], z.streams["color"]], (clock, dimensions, color) => { return {clock:clock, dimensions:dimensions, color:color} })
		.scan( (state, e) => { 
			state.clock = e.clock;
			state.dimensions = e.dimensions;
			state.color = e.color;
			state.count = state.count + 1;
			z.tools.logmsg("color.choices = " + e.color.choices);
			return state;
	}, {clock:{t:0}, dt:1}  );

//box
( dt => {
	const element = document.createElementNS("http://www.w3.org/2000/svg", "rect");
	element.setAttributeNS(null, "id", "box");
	element.setAttributeNS(null, "class", "shape square");
	z.elements["svg"].el.appendChild(element);
	let colors = ["#fcfbe3", "#191918"];
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		try {
			// let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
			Velocity({	
				elements: element, 
				properties: { fillOpacity: 1.0, strokeOpacity: 1.0, fill: colors[1], stroke: colors[0], strokeWidth: z.tools.randominteger(e.dimensions.min/4,e.dimensions.min), strokeDasharray: z.tools.randominteger(e.dimensions.min/10, e.dimensions.min/4), width: e.dimensions.width, height: e.dimensions.height },
				options: { duration: 2000,  delay: 0, easing: "easeInOutQuad" },
			});
		} catch(err) { z.tools.logerror("box animation ::: " + err ) }
	})
})(8);

//words
( dt => {
	const nwords = [[0,1],[0,1]][v];
	const words = [
	// "_.._._+ . < +=_.._._+ . < +=_.._._+ . < +=: :  . < > '. . . . . .& | { . . ::: x",
	// "it was like this every morning", ".. - / .-- .- ... / .-.. .. -.- . / - .... .. ... / . ...- . .-. -.-- / -- --- .-. -. .. -. --.", //it was like this every morning
	// "aXQgd2FzIGxpa2UgdGhpcyBldmVyeSBtb3JuaW5n", //it was like this every morning
	// "01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111 01110010 01101100 01100100", //hello world
	// "aGVsbG8gd29ybGQ=", //hello world
	// "i0i000i0000iiii0i000i0000iii", //i
	// "_.._._+ . < +=_.._._+ . < +=_.._._+ . < +=: :  . < > '",". . . . . .& | { . . ::: x",
	// "#thecount ‰ 0 1 2 3 4 5 6 7 8 9 iº #aftercount #aftertime", //
	// "høly h0L¥ hølY H0ly ® Å Ö x x x ø 0 Ø x X x ø 0 Ø xº3",
	// "ø 0 ¥ ø Y H L ® Å Ö x x x ø 0 Ø x X x ø 0 Ø xº3",
	// "forEach Å øn t0uch Ž",
	".. - / .-- .- ... / .-.. .. -.- . / - .... .. ... / . ...- . .-. -.-- / -- --- .-. -. .. -. --.",
	// ":::::::::::::::::;+ ` #@@' `. @ :# +@@@@@' '@@@@@@@@' :@@@@@@@#@##' ,@@@@@@@##@+#++' :#@@@@@#@##+#'++'' +@ ;@@@@@##+''+'+''' '@@@@ @@@#@++'''+''';' ;@@@@@@@ +@##+'+';;';+;;' ,#@@@@#@@@# #+#++''';'';';;",
	];
	//do this for all words ...fit to screen size
	let symbols = "_.._._+ . < +=_.._._+ . < +=_.._._+ . < +=: :  . < > '. . . . . .01101000& |  . . ::: x \\ \\ \\ ./ / /".split("");
	let nsymbols = symbols.length;
	words.push([...Array([88,248][v]).keys()].reduce( (acc, key, j) => {
		acc[j] = symbols[z.tools.randominteger(0,nsymbols)];
		return acc;
	}, []));
	words.push([...Array([48,148][v]).keys()].reduce( (acc, key, j) => {
		acc[j] = symbols[z.tools.randominteger(0,nsymbols)];
		return acc;
	}, []));
	const elements = nwords.reduce( (acc, id, j) => {
		z.tools.logmsg("create word element ::: " + id);
		let el = document.createElement("div");
		el.setAttribute("id", "word_" + id);
		el.setAttribute("class", "absolute monospace_zerodot");
		el.innerHTML = words[j%words.length];
		z.elements["frames"]["wordframe"].el.appendChild(el);
		el.style[ "opacity" ] = 0.0;
		el.style[ "whiteSpace" ] = "nowrap";
		acc[id] = { el: el };
		return acc;
	}, []);
	let n = elements.length;
	// let colors = ["#fcfbe3", "#191918", "#9a0000", "#ffcc00","#006699"]
	let pigments = ["#9a0000", "#fcfbe3", "#191918", "#ffcc00","#006699"];
	const drawings = [
		e => {
			try {
				let count = e.clock.t/dt;
				let element = elements[count%n];
				// let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				let color = pigments[z.tools.randominteger(0, pigments.length)];
				// elements.forEach( (element, j) => {
				element.el.innerText = words[count%words.length];
				element.el.style[ "fontSize" ] = e.dimensions.height*2+"px";
				let textwidth = element.el.clientWidth;
				let direction=(count)%2===0 ? -1.0 : 1.0;
				let startleft = (count)%2===0 ? e.dimensions.width : -1.2*textwidth;
				let endleft = (count)%2===0 ? -1.2*textwidth : e.dimensions.width*1.2;
				z.tools.logmsg("count = " + count + " endleft = " + endleft + " startleft = " + startleft);
				element.el.style[ "left" ] = startleft+"px";
				element.el.style[ "top" ] = -1.0*e.dimensions.height+"px";
				element.el.style[ "color" ] = color;

				Velocity({	
					elements: element.el,
					properties: { opacity:1.0, left: endleft },
					options: { duration: n*dt*600/4,  delay: 0, easing: "linear" },
				});
				// Velocity({	
				// 	elements: element.el,
				// 	properties: { opacity:0.0 },
				// 	options: { duration: n*dt*200/4,  delay: 0 },
				// });
				// })
			} catch(err) { z.tools.logerror("word 1 animation ::: " + err ) }
		},
	]
	z.tools.logmsg("#word elements = " + elements.length);
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		drawings[Math.floor(e.clock.t/(dt*elements.length))%drawings.length](e);
	})
})(33);

//line 1
( dt => {
const nelements=[[...Array(8).keys()],[...Array(8).keys()]][v];
const elements = nelements.reduce( (acc, id) => {
	z.tools.logmsg("create line element ::: " + id);
	let el = document.createElementNS("http://www.w3.org/2000/svg", "line");
	el.setAttributeNS(null, "id", "line1_"+ id);
	el.setAttributeNS(null, "class", "shape line");
	z.elements["svg"].el.appendChild(el);
	acc[id] = { el: el };
return acc;
}, []);
const n = elements.length;
const drawings = [
	e => {
		try {
			let count = e.clock.t/dt;
			let timing = timings[z.tools.randominteger(0,timings.length)];
			let duration = Math.floor(dt*timing[0]*n), delay = z.tools.randominteger(0, dt*timing[1]*n/4);
			let j = count%n;
			let element = elements[j];
			let colors = ["#fcfbe3", "#191918"];
			let pigments = ["#ffcc00","#006699"];
			let color = count%n===0 ? pigments[z.tools.randominteger(0, pigments.length)] : (j%3===0 ? colors[0] : colors[1]);
			// let color = j%3===0 ? colors[0] : colors[1];
			let cx = j%2===1 ? 0 : e.dimensions.width;
			// let y1 = -1.0*z.tools.randominteger(0, e.dimensions.height);
			// let y2 = z.tools.randominteger(e.dimensions.height, e.dimensions.height*2);
			let y1 = 0;
			let y2 = e.dimensions.height;
			// Velocity({	
			// 	elements: element.el,
			// 	properties: { strokeOpacity: 1.0, stroke: color},
			// 	options: { duration: duration/2,  delay: delay/2 },
			// });
			Velocity({	
				elements: element.el,
				properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: z.tools.randominteger(e.dimensions.width/4,e.dimensions.width*2), strokeDasharray: z.tools.randominteger(e.dimensions.height/10, e.dimensions.height/2), x1: cx, x2: cx, y1: y1, y2: y2 },
				options: { duration: duration,  delay: delay },
			});
		} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
	},
];
z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	drawings[Math.floor(e.clock.t/(dt*elements.length*2))%drawings.length](e);
})
})(1);

};


window.addEventListener('load', e => {
   z.draw(z);
  window.scroll(0,0);
  window.setTimeout(() => { document.querySelector("#contentframe").style.opacity = 1.0 }, 400);
  // window.setTimeout(() => { document.querySelector("#controls").style.backgroundColor = "rgba(0,0,0,0.0)" }, 6800);
});
// window.addEventListener('beforeunload', e => {
// 	window.scroll(0,0);
// });
</script>
</html>