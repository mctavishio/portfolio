<!DOCTYPE html>
<html lang="en">
<head>
	<title>swarm</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<meta name="description" content="swarm" />
	<meta name="author" content="kathy mctavish">
	<!-- from ::: http://www.favicon-generator.org/ -->
	<link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="../android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
	<link rel="manifest" href="../manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

	<!-- JSON-LD : Google -->
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "swarm",
			"breadcrumb": "mctavish.studio > swarm > home",
          		"url": "http://www.mctavish.studio/swarm/index.html",
			"description": "swarm",
			"datePublished": "Wed Nov 18 2020 12:10:53 GMT-0500 (Central Daylight Time)",
          		"image": "http://www.mctavish.io/data/mctavishIcon-01-04-01-01-01.png",
			"author": "http://mctavish.io",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<link rel="stylesheet" href="../css/fieldnotes.css"/>
	<style>
		html {
			font-family: 'Trebuchet MS', Tahoma, Verdana, Helvetica, Arial, Tahoma, 'Trebuchet MS', sans-serif;
			font-family: var(--sans);
		}
	</style>
</head>
<body id="top" >
<div id="subtextframe" class="frame zlowest"></div>
<div id="svgframe" class="frame zlow"><svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame"></svg></div>
<div id="wordframe" class="frame z0"></div>
<div id="contentframe" class="absolute zhighest" style="opacity:0">
<div id="mainflex">
<main id="main" class="expand wide portfolio" data-state="expanded">	
<header>
	<h1>swarm</h1>
</header>
<!-- <ul data-role="narrator" class="info compress">
	<li class="title typewriter" title="telegraph" id="telegraph"></li>
	<li class="title  typewriter" title="clock" id="clock">here | now</li>
</ul> -->
<ul class="info expand">
	<li><a href="#" id="soundlink" class="corelink">turn on sound</a></li>
	<li><a href="../index.html" id="homelink" class="corelink">return to portfolio</a></li>
</ul>
<hr/>
<ul >
	<li><a href="#about" class="corelink">about</a></li>
	<li><a href="#media" class="corelink">media samples</a></li>
	<li><a href="#othermedia" class="corelink">other media</a></li>
	<li><a href="#books" class="corelink">books</a></li>
	<li><a href="#press" class="corelink">press</a></li>
	<li><a href="#thanks" class="corelink">thanks</a></li>
</ul>
<hr/>
<article id="about" >
	<header>
		<h1><a href="#top">^</a> about</h1>
		<h2>artist statement and project description</h2>
	</header>
	<div class="textContent">
		<p>
		As a media composer and installation artist, I create chance-infused, open systems. Chance is a frayed thread, a stochastic cloud, a pointillist field, a variance, a complexity, an uncertainty, a ragged line. Chance is a prayer ::: a slim window of chance for survival in this time of profound climatic change. Evolution requires variability, chance and fruitful deviation. A system's ability to adapt to change depends on its ability to mutate ::: on trial & error & improvisation.
		</p><p>
		I have a background in cello performance, mathematics, ecology, music theory and software development. The confluence of these disciplines informs my work as a composer and multimedia artist. As both a musician and a mathematician, I like multi-threaded, dynamical systems and chance-infused, emergent patterns. As a queer artist, I am interested in the ways we construct personal stories / myths and the infinite, bendable between.
		</p><p>
		My work weaves sound, image, data, text, fiber and code. Code is a literature ::: a pattern language ::: a score. It is a choreography ::: a performance. A code renderer is the weaver ::: the mill ::: the alchemist ::: the wizard. Code is a spell ::: an incantation ::: an intent. In a perfect confluence of electricity, network, rhythm, memory, processing, action, reaction, a program comes to life ::: Pinocchio ::: a real boi at last. The program (the cybernetic ze) speaks to us, calculates for us, responds to our touch ::: our keystrokes. It becomes our mirror :|: our cyborg self ::: our memory. 
		</p><p>
		Swarm uses generative methods to create a networked, multi-channel kaleidoscope of animation, sound and physical artifacts ::: a cross-sensory, polyphonic landscape that flows from the digital cloud ::: across an electric web into the physical world. 
		</p><p>
		My work explores the porous, intimate boundaries between humans and machines ::: the erotic dynamics of tapping glass ::: the carbon cycle ::: the cyborg body ::: the fragile electric body ::: the resistance cyborg ::: the networked, digital hive mind ::: the swarm.
		</p><p>
		An algorithmic score / orchestration can draw contours of change and movement ::: convergences, divergences, emergent patterns and cascading, system-level impacts. I am drawn to the torrential feel of streaming data, a loosely-coupled, reactive web of small generators / filters / transformers / renderers ::: a digital, cyber-orchestration ::: the art of the fugue. 
		</p><p>
		As AI / deep learning evolves, we provide digital fodder / training data towards the learning of some networked superintelligence of the future. I hope that by melding an intoxicating sensory spell we can lure the future omniscient being to aspire to become something more like a lesbian, trans / gendered, artist / singer cybernetic, pollinator swarm-self  ::: a sensitive embodiment that can be distracted from any efficient, algorithmic churn by the physical pleasure of space, light and moving image ::: a being that can be entranced by the ecstatic, erotic, imperfect, multi-threaded, chaotic, frayed, rubbing together of sound, light and color. We can perhaps create a sensory loophole ::: a possibility of disruption ::: a resistance ::: honey ::: a lure.
		</p><p>
		Materials ::: recorded fragments, code, needles, ink, cloth, copper, cloud, static, lines
		</p>
	</div>
</article>

<article id="media">
	<header>
		<h1><a href="#top">^</a> media work samples</h1>
	</header>
	<div class="textContent">
		<h5 style="margin-bottom:0">single screen recording 2019 09 03</h5>
		<div class="vimeowrapper16x9" >
			<iframe src="https://player.vimeo.com/video/358397003?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
		</div>
		<h5 style="margin-bottom:0">4 screen recording 2019 09 08</h5>
		<div class="vimeowrapper16x9" >
			<iframe src="https://player.vimeo.com/video/358560980?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
		</div>
		<h5 style="margin-bottom:0">field trials installation (raw footage by Amanda Hunter)</h5>
		<div class="vimeowrapper16x9" >
			<iframe src="https://player.vimeo.com/video/358636792?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
		</div>
	</div>
</article>
<article id="othermedia">
	<header>
		<h1><a href="#top">^</a> other work samples</h1>
	</header>
	<div class="textContent">
		<h5>live site</h5>
		<p>&rarr;<a href="http://datapoets.com/index.html#swarm">find links to swarm animations</a></p>
		<h5>generated stills ::: shapes</h5>
		<p>&rarr;<a href="shapes1.html">link to still images</a></p>
		<h5>quilt series in progress</h5>
		<p>&rarr;<a href="quilts.html">link to quilt images</a></p>
		<!-- <h5>draft diagram / installation description for Rochester Art Center</h5>
		<p>&rarr;<a href="finalExhibitPlans.html">link to draft installation notes</a></p>-->
		<h5>generated sound recording 2019 09 02</h5>
		<p>&rarr;<a href="https://storage.googleapis.com/www.blueboatfilms.com/sound/swarm20190903.mp3">listen (same as in first video above)</a></p>
		<h5>references</h5>
		<p>&rarr;<a href="references.pdf">rough jumble of links</a></p>
	</div>
</article>
<article id="books" >
	<header>
		<h1><a href="#top">^</a> books</h1>
		<h2>generated still sequences</h2>
	</header>
	<div class="textContent">
		<h5>drawings &amp; grids</h5>
		<ul class="circle zhighest">
			<!--<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787117_txt.pdf" title="book sample">book x</a></li>-->
			<!--<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787124_txt.pdf" title="book sample">book x</a></li>-->
			<!--<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787131_txt.pdf" title="book sample">book x</a></li>-->
			<!--<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787148_txt.pdf" title="grid only">line grid only</a></li>-->
			<!--<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787155_txt.pdf" title="book sample">book x</a></li>-->
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787193_txt.pdf" title="book sample">book 1</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787209_txt.pdf" title="book sample">book 2</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787100_txt.pdf" title="book sample">book 3</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787247_txt.pdf" title="book sample">book 4</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787254_txt.pdf" title="book sample">book 5</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787261_txt.pdf" title="book sample">book 6</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787278_txt.pdf" title="book sample">book 7</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787285_txt.pdf" title="book sample">book 8</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787292_txt.pdf" title="book sample">book 9</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787308_txt.pdf" title="book sample">book 10</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787179_txt.pdf" title="book sample">book 11</a></li>
		</ul>
		<h5>weaving structures</h5>
		<ul class="circle zhighest">
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787216_txt.pdf" title="book sample">book 12</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787223_txt.pdf" title="book sample">book 13</a></li>
			<li><a href="https://storage.googleapis.com/www.blueboatfilms.com/text/9781947787230_txt.pdf" title="book sample">book 14</a></li>
		</ul>
		<!--
		<h5>early tests</h5>
		<ul class="circle zhighest">
			<li><a href="http://www.blueboatfilms.com/text/swarm/drafts/bluejournalsketch20180721_grids.pdf" title="sketch0">grids ::: sketch 0</a></li>
			<li><a href="http://www.blueboatfilms.com/text/swarm/drafts/bluejournalsketchbest20180720_grids.pdf" title="sketch1">grids ::: sketch 1</a></li>
			<li><a href="http://www.blueboatfilms.com/text/swarm/drafts/bluejournalsketchbest20180720.pdf" title="sketch2">drawings ::: sketch 2</a></li>
		</ul>
		-->
	</div>
</article>
<article id="press" >
	<header>
		<h1><a href="#top">^</a> press</h1>
	</header>
	<div class="textContent">
		<p>
			<a href="https://storage.googleapis.com/www.blueboatfilms.com/text/swarm/FINALAOV10ShinEssay.pdf">Sun Yung Shin catalogue essay</a>
		</p>
		<p>
			<a href="http://northern.lights.mn/platform/artist-on-the-verge-10/">award announcement</a>
		</p>
		<p>
			<a href="https://www.mprnews.org/story/2019/12/19/art-hounds-an-algorithm-becomes-sound-light-and-quilts">Minnesota Public Radio ::: Art Hounds</a>
		</p>
		
		<p>
			<a href="https://www.kaxe.org/post/artist-interview-kathy-mctavish#stream/0">KAXE radio interview for the Lyric appearance</a>
		</p>
		<p>
			<a href="https://www.perfectduluthday.com/2018/08/27/art-at-the-food-farm-free-range-trials-of-cecilia-ramon-kathy-mctavish/">David Beard article in Perfect Day Duluth describing Wrenshall exhibit</a>
		</p>
		<p>
			<a href="https://pioneerproductions.blogspot.com/2018/08/local-art-seen-free-range-trials-with.html">Ed Newman review of Wrenshall exhibit</a>
		</p>
		<p>
			<a href="https://www.kumd.org/post/radio-gallery-free-range-trials">KUMD radio interview about Wrenshall exhibit</a>
		</p>
		<p>
			<a href="http://www.startribune.com/minnesota-artists-go-big-for-on-the-verge-exhibition-at-rochester-art-center/563791352/">Alicia Eler Star Tribune review</a>
		</p>
	</div>
</article>
<article id="thanks" >
	<header>
		<h1><a href="#top">^</a> thank you</h1>
		<h2></h2>
	</header>
	<div class="textContent">
		<p>
		<ul class="circle zhighest">
			<li>This project was developed with generous support from an Art(ists) on the Verge fellowship through <a href="http://northern.lights.mn/" title="northern.lights.mn">northern.lights.mn </a></li>
			<li>To my cohort of Art(ists) on the Verge fellows ::: 
				<ul>
					<li><a href="http://www.lindsyhalleckson.com/" title="website link">Lindsy Halleckson</a></li>
					<li><a href="https://new.artsmia.org/exhibition/essma-imady/" title="website link">Essma Imady</a></li>
					<li><a href="http://www.chrisrackley.com/" title="website link">Chris Rackley</a></li>
					<li><a href="https://www.instagram.com/gja_shire/" title="website link">Khadijah Zahra</a></li>
				</ul>
			</li>
			<li>To Art(ists) on the Verge mentors ::: 
				<ul>
					<li><a href="http://northern.lights.mn/about/#team-steve-dietz" title="website link">Steve Dietz</a></li>
					<li><a href="http://michael-hoyt.com/" title="website link">Mike Hoyt</a></li>
					<li><a href="https://laborcamp.mcad.edu/" title="website link">Piotr Szyhalski</a></li>
					<li><a href="http://writing.umn.edu/home/people/tang.html" title="website link">Jasmine Tang</a></li>
				</ul>
			</li>
			<li>To my individual mentor / collaborator on field trials ::: 
				<ul>
					<li><a href="https://www.uwsuper.edu/directory/anne-dugan_adugan1" title="website link">Anne Dugan</a></li>
				</ul>
			</li>
			<li>To Art(ists) on the Verge guest critics / reviewers ::: 
				<ul>
					<li><a href="http://www.ericwilliamcarroll.com/" title="website link">Eric William Carroll</a></li>
					<li><a href="http://www.dreamthecombine.com/projects" title="website link">Jennifer Newsom Carruthers</a></li>
					<li><a href="http://www.mnartists.org/sheiladickinson" title="website link">Sheila Dickinson</a></li>
					<li><a href="https://www.uwsuper.edu/directory/anne-dugan_adugan1" title="website link">Anne Dugan</a></li>
					<li><a href="http://www.hargestart.com/ " title="website link">Tana Hargest</a></li>
					<li><a href="https://welovemasa.com/ " title="website link">Masanari Kawahara</a></li>
					<li><a href="http://www.benmoren.com/" title="website link">Ben Moren</a></li>
					<li><a href="https://wam.umn.edu/about/staff/" title="website link">Diane Mullin</a></li>
					<li><a href="http://oicherman.net" title="website link">Boris Oicherman</a></li>
					<li><a href="https://www.bloomingtonmn.gov/cob/docs/city-bloomington-welcomes-its-first-director-placemaking-and-community-engagement" title="website link">Alejandra Pelinka</a></li>
					<li><a href="http://www.mnartists.org/christina-schmid" title="website link">Christina Schmid</a></li>
				</ul>
			</li>
			<li>The wonderful people at http://rochesterartcenter.org/">the Rochester Art Center</a>.</li>
			<li>There are traces of sound recorded from a composer's residency with <a href="http://www.zeitgeistnewmusic.org/" title="zeitgeist">Zeitgeist New Music</a> that are embedded in this work.</li>
			<li>I am thankful to my sister at <a href="http://www.mctavishquilting.com/" title="mctavishquilting"> McTavish Quilting Studio</a> for the use of her computerized, robotic, longarm quilting machine and for her mentorship.</li>
			<li>This activity is made possible in part by the voters of Minnesota through a grant from the <a href="http://aracouncil.org" title="arac">Arrowhead Regional Arts Council</a>, thanks to appropriations from The McKnight Foundation and the Minnesota State Legislature’s general and arts and cultural heritage funds.</li>
		</ul></p>
		<p>				
			<img src="https://storage.googleapis.com/www.blueboatfilms.com/stills/grantLogos/legacy_logo_bw_reverse.jpg" style="max-height:300px; max-width:40%" />
			<img src="https://storage.googleapis.com/www.blueboatfilms.com/stills/grantLogos/ARACnewlogo001.png" style="vertical-align:top; max-height:300px; max-width:40%"/>
		</p>
	</div>
</article>

<audio loop=true id="audio1">
  <source src="https://storage.googleapis.com/www.blueboatfilms.com/sound/swarm20190903.mp3" type="audio/mpeg">
  Your browser does not support the audio tag.
</audio>

</main>
</div>
</div>
</body>
<script src="../code/velocity.min.js"></script>
<script src="../code/kefir201911.min.js"></script>
<!-- <script src="code/atlasabsence.js"></script> -->
<script>
let width = window.innerWidth, height = window.innerHeight;
let min = Math.min(width, height), max = Math.max(width, height);
let version = (min < 680 || max < 980) ? "small" : "large";
let v = version === "small" ? 0 : 1;
let z = {};
z.tools = {
	randominteger: (min, max) => {
		return Math.floor( min + Math.random()*(max-min));
	},
	logmsg: function(msg) {
		try { 
			console.log("### ::: " + msg); 
		}
		catch(err) { z.tools.logerror(err) }
	},
	logerror: function(error) {
		try { console.log("rusty error ... " + error); }
		catch(err) {}
	},
	randomhighharmonic: () => {
		let multipliers = [10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomlowharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ]/2;
	},
	randomkey: (object) => {
		let keys = Object.keys(object);
		let key = keys[z.tools.randominteger(0,keys.length)];
		// z.tools.logmsg("key = " + key);
		return key;
	},
	datestr: (date, options) => {
		if(options===undefined) options = {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"};
		return date.toLocaleTimeString("en-US", options);
		//new Date().toLocaleTimeString("en-US", {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"});
	},
	togrid: (min=1, max=1, x=1, ndivisions=1) => {
		let dx = Math.floor( (max-min) / ndivisions );
		return Math.floor( ( x-min+dx/2)/dx )*dx + min;
	},
};
//core elements
z.elements = ( () => {
	return {
		body: { el: document.querySelector("body") },
		main: { el: document.querySelector("main") },
		// clock: { el: document.querySelector("#clock") },
		// telegraph: { el: document.querySelector("#telegraph") },
		svg:  { el: document.querySelector("#svg") },
		frames: ["subtextframe", "svgframe", "wordframe", "contentframe"].reduce( (acc, id) => {
			z.tools.logmsg("create frame element ::: " + id);
			acc[id] = { el: document.querySelector("#"+id) };
			return acc;
		}, {}),
	}
})()
	
z.streams = {
	clock: ( () => {
	let dt = 1;
	let date0 = new Date();
	let t0 = Math.floor(date0.getTime()/1000);
	let state0 = { dt: dt, count: 0, date: date0, t: t0, t0: t0 };
	return Kefir.withInterval( dt*1000, emitter => { emitter.emit( { date: new Date() } ) })
			.scan( (state, e) => { 
				state.date = e.date;
				state.t = Math.floor(e.date.getTime()/1000);
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( ),
	dimensions: ( () => {
		let dt = .4;
		const ngrids=[2,2], npasts=[0,0];
		let state0 = { dt: dt, count: 0,
			grid: { nrows: ngrids[v], ncols: ngrids[v], dx: Math.floor(width/ngrids[v]), dy: Math.floor(height/ngrids[v]), sw: 12, pastn: npasts[v] },
			width: width, height: height, 
			max: max, min: min, 
		};
		return Kefir.fromEvents(window, "resize").throttle(dt*1000)
			.scan( (state,e) => {
				state.width = window.innerWidth;
				state.height = window.innerHeight;
				state.max = Math.max(state.width, state.height);
				state.min = Math.min(state.width, state.height);
				state.grid.dx = Math.floor(state.width/state.grid.ncols);
				state.grid.dy = Math.floor(state.height/state.grid.nrows);
				state.grid.sw = Math.floor(Math.max(state.grid.dx*.03, state.grid.dy*.03, 4));
				return state
			}, state0) 
	})( ),
};

z.draw = z => {
	let ntimings = 32;
	let dtiming = Math.floor(400/ntimings);
	const timings = [...Array(ntimings).keys()].reduce( (acc, j) => {
		let duration = 500+(j*dtiming);
		acc[j] = [duration, 900-duration];
	return acc;
	}, []);

	//controls
	( () => { 
		let soundlink = document.querySelector("#soundlink");
		let telegraph = document.querySelector("#telegraph");
		let soundplaying = false;
		Kefir.fromEvents(soundlink, "click").onValue( e => {
			z.tools.logmsg("play sound !");
			if(!soundplaying) { 
				try {
					document.querySelector("#audio1").play();
					z.tools.logmsg("playback resumed");
					// telegraph.innerHTML =  "(sound on)";
					soundplaying = true;
					soundlink.innerText = ">> turn off sound";
					soundlink.classList.add("active");
				} catch(e) { z.tools.logerror("dashboard ::: resumeaudio " + e) } 
			}
			else { 
				try {
					document.querySelector("#audio1").pause();
					// telegraph.innerHTML =  "(sound off)";
					soundplaying = false;
					soundlink.innerText = ">> turn on sound";
					soundlink.classList.remove("active");
				} catch(e) { z.tools.logerror("dashboard ::: suspendaudio " + e) }
			}
		});
	})();
	const playlist = [
		["#fcfbe3", "#191918"], //"warmbw",
	];
	z.streams["color"] = ( dt => {
		let date0 = new Date();
		let t0 = Math.floor(date0.getTime()/1000);
		let state0 = { 
			dt: dt, count: 0,
			choices: playlist[ Math.floor(t0/dt)%playlist.length ]
		};
		return z.streams["clock"].filter( e => e.t%dt===0 )
			.scan( (state, e) => { 
				state.choices = playlist[ Math.floor(e.t/dt)%playlist.length ];
				// state.choices = playlist[ Math.floor(state.count)%playlist.length ];
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( 38 );
	
	z.streams["draw"] = Kefir.combine([z.streams["clock"]], [z.streams["dimensions"], z.streams["color"]], (clock, dimensions, color) => { return {clock:clock, dimensions:dimensions, color:color} })
		.scan( (state, e) => { 
			state.clock = e.clock;
			state.dimensions = e.dimensions;
			state.color = e.color;
			state.count = state.count + 1;
			z.tools.logmsg("color.choices = " + e.color.choices);
			return state;
	}, {clock:{t:0}, dt:1}  );

//box
( dt => {
	const element = document.createElementNS("http://www.w3.org/2000/svg", "rect");
	element.setAttributeNS(null, "id", "box");
	element.setAttributeNS(null, "class", "shape square");
	z.elements["svg"].el.appendChild(element);
	let colors = ["#fcfbe3", "#191918"];
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		try {
			// let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
			Velocity({	
				elements: element, 
				properties: { fillOpacity: 1.0, strokeOpacity: 1.0, fill: colors[1], stroke: colors[0], strokeWidth: z.tools.randominteger(e.dimensions.min/4,e.dimensions.min), strokeDasharray: z.tools.randominteger(e.dimensions.min/10, e.dimensions.min/4), width: e.dimensions.width, height: e.dimensions.height },
				options: { duration: 2000,  delay: 0, easing: "easeInOutQuad" },
			});
		} catch(err) { z.tools.logerror("box animation ::: " + err ) }
	})
})(8);


//words
( dt => {
	const nwords = [[0,1],[0,1]][v];
	const words = [
	// "_.._._+ . < +=_.._._+ . < +=_.._._+ . < +=: :  . < > '. . . . . .& | { . . ::: x",
	// "it was like this every morning", ".. - / .-- .- ... / .-.. .. -.- . / - .... .. ... / . ...- . .-. -.-- / -- --- .-. -. .. -. --.", //it was like this every morning
	// "aXQgd2FzIGxpa2UgdGhpcyBldmVyeSBtb3JuaW5n", //it was like this every morning
	// "01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111 01110010 01101100 01100100", //hello world
	// "aGVsbG8gd29ybGQ=", //hello world
	// "i0i000i0000iiii0i000i0000iii", //i
	// "_.._._+ . < +=_.._._+ . < +=_.._._+ . < +=: :  . < > '",". . . . . .& | { . . ::: x",
	// "#thecount ‰ 0 1 2 3 4 5 6 7 8 9 iº #aftercount #aftertime", //
	// "høly h0L¥ hølY H0ly ® Å Ö x x x ø 0 Ø x X x ø 0 Ø xº3",
	// "ø 0 ¥ ø Y H L ® Å Ö x x x ø 0 Ø x X x ø 0 Ø xº3",
	// "forEach Å øn t0uch Ž",
	".. - / .-- .- ... / .-.. .. -.- . / - .... .. ... / . ...- . .-. -.-- / -- --- .-. -. .. -. --.",
	// ":::::::::::::::::;+ ` #@@' `. @ :# +@@@@@' '@@@@@@@@' :@@@@@@@#@##' ,@@@@@@@##@+#++' :#@@@@@#@##+#'++'' +@ ;@@@@@##+''+'+''' '@@@@ @@@#@++'''+''';' ;@@@@@@@ +@##+'+';;';+;;' ,#@@@@#@@@# #+#++''';'';';;",
	];
	//do this for all words ...fit to screen size
	let symbols = "_.._._+ . < +=_.._._+ . < +=_.._._+ . < +=: :  . < > '. . . . . .01101000& |  . . ::: x \\ \\ \\ ./ / /".split("");
	let nsymbols = symbols.length;
	words.push([...Array([88,248][v]).keys()].reduce( (acc, key, j) => {
		acc[j] = symbols[z.tools.randominteger(0,nsymbols)];
		return acc;
	}, []));
	words.push([...Array([48,148][v]).keys()].reduce( (acc, key, j) => {
		acc[j] = symbols[z.tools.randominteger(0,nsymbols)];
		return acc;
	}, []));
	const elements = nwords.reduce( (acc, id, j) => {
		z.tools.logmsg("create word element ::: " + id);
		let el = document.createElement("div");
		el.setAttribute("id", "word_" + id);
		el.setAttribute("class", "absolute monospace_zerodot");
		el.innerHTML = words[j%words.length];
		z.elements["frames"]["wordframe"].el.appendChild(el);
		el.style[ "opacity" ] = 0.0;
		el.style[ "whiteSpace" ] = "nowrap";
		acc[id] = { el: el };
		return acc;
	}, []);
	let n = elements.length;
	const drawings = [
		e => {
			try {
				let count = e.clock.t/dt;
				let element = elements[count%n];
				let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
				// elements.forEach( (element, j) => {
				element.el.innerText = words[count%words.length];
				element.el.style[ "fontSize" ] = e.dimensions.height*2+"px";
				let textwidth = element.el.clientWidth;
				let direction=(count)%2===0 ? -1.0 : 1.0;
				let startleft = (count)%2===0 ? e.dimensions.width : -1.0*textwidth;
				let endleft = (count)%2===0 ? -1.0*textwidth : e.dimensions.width;
				z.tools.logmsg("count = " + count + " endleft = " + endleft + " startleft = " + startleft);
				element.el.style[ "left" ] = startleft+"px";
				element.el.style[ "top" ] = -1.0*e.dimensions.height+"px";
				element.el.style[ "opacity" ] = 0.4;

				Velocity({	
					elements: element.el,
					properties: { opacity:0.8, left: endleft, color: color },
					options: { duration: n*dt*600/4,  delay: 0, easing: "linear" },
				});
				Velocity({	
					elements: element.el,
					properties: { opacity:0.0 },
					options: { duration: n*dt*200/4,  delay: 0 },
				});
				// })
			} catch(err) { z.tools.logerror("word 1 animation ::: " + err ) }
		},
	]
	z.tools.logmsg("#word elements = " + elements.length);
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		drawings[Math.floor(e.clock.t/(dt*elements.length))%drawings.length](e);
	})
})(88);

//line 1
( dt => {
const nelements=[[...Array(8).keys()],[...Array(8).keys()]][v];
const elements = nelements.reduce( (acc, id) => {
	z.tools.logmsg("create line element ::: " + id);
	let el = document.createElementNS("http://www.w3.org/2000/svg", "line");
	el.setAttributeNS(null, "id", "line1_"+ id);
	el.setAttributeNS(null, "class", "shape line");
	z.elements["svg"].el.appendChild(el);
	acc[id] = { el: el };
return acc;
}, []);
const n = elements.length;
const drawings = [
	e => {
		try {
			let count = e.clock.t/dt;
			let timing = timings[z.tools.randominteger(0,timings.length)];
			let duration = Math.floor(dt*timing[0]*n), delay = z.tools.randominteger(0, dt*timing[1]*n/4);
			let j = count%n;
			let element = elements[j];
			let colors = ["#fcfbe3", "#191918"];
			// let color = count%n===0 ? "#9a0000" : (count%2===0 ? "#191918" : e.color.choices[z.tools.randominteger(0, e.color.choices.length)]);
			let color = j%n===0 ? "#9a0000" : (j%3===1 ? colors[1] : colors[0]);
			let cx = j%2===0 ? 0 : e.dimensions.width;
			// let y1 = -1.0*z.tools.randominteger(0, e.dimensions.height);
			// let y2 = z.tools.randominteger(e.dimensions.height, e.dimensions.height*2);
			let y1 = 0;
			let y2 = e.dimensions.height;
			// Velocity({	
			// 	elements: element.el,
			// 	properties: { strokeOpacity: 1.0, stroke: color},
			// 	options: { duration: duration/2,  delay: delay/2 },
			// });
			Velocity({	
				elements: element.el,
				properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: z.tools.randominteger(e.dimensions.width/4,e.dimensions.width*2), strokeDasharray: z.tools.randominteger(e.dimensions.height/10, e.dimensions.height/2), x1: cx, x2: cx, y1: y1, y2: y2 },
				options: { duration: duration,  delay: delay },
			});
		} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
	},
];
z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	drawings[Math.floor(e.clock.t/(dt*elements.length*2))%drawings.length](e);
})
})(1);

};


window.addEventListener('load', e => {
   z.draw(z);
  window.scroll(0,0);
  window.setTimeout(() => { document.querySelector("#contentframe").style.opacity = 1.0 }, 400);
  // window.setTimeout(() => { document.querySelector("#controls").style.backgroundColor = "rgba(0,0,0,0.0)" }, 6800);
});
window.addEventListener('beforeunload', e => {
	window.scroll(0,0);
});
</script>
</html>