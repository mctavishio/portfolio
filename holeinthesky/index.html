<!DOCTYPE html>
<html lang="en">
<head>
	<title>hole in the sky</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<meta name="description" content="kathy mctavish: composer, coder and media artist ::: hole in the skY" />
	<meta name="keywords" content="zeitgeist new music kathy mctavish datapoets graffiti angel hole in the sky extinction passenger pigeon anthropocene mongodb nodejs javascript html5 css3 postgresql json xml" />
	<meta name="author" content="kathy mctavish">
	<!-- from ::: http://www.favicon-generator.org/ -->
	<link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="../android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
	<link rel="manifest" href="../manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

	<!-- JSON-LD : Google -->
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "hole in the sky",
			"breadcrumb": "mctavish.io > hole in the sky > home",
          		"url": "https://www.mctavish.io/holeinthesky/index.html",
			"description": "hole in the sky ::: net.art work from 2012",
			"datePublished": "2021-02-03",
          		"image": "https://www.mctavish.io/mctavishIcon-01-04-01-01-01.png",
			"author": "https://mctavish.io/bio.html",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<link rel="stylesheet" href="../css/fieldnotes.css"/>
	<style>
		html {
			font-family: 'Trebuchet MS', Tahoma, Verdana, Helvetica, Arial, Tahoma, 'Trebuchet MS', sans-serif;
			font-family: var(--sans);
		}
	</style>
</head>
<body id="top" >
<div id="subtextframe" class="frame zlowest"></div>
<div id="svgframe" class="frame zlow"><svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame"></svg></div>
<div id="wordframe" class="frame z0"></div>
<div id="contentframe" class="absolute zhighest">
<div id="mainflex">
<main id="main" class="expand wide portfolio" data-state="expanded">	
<header>
	<h1>høle in the skY</h1>
	<h2>zeitgeist new music quartet &amp; kathy mctavish</h2>
	<p><i>last passenger pigeon she slipped away  forever into sky through iron bars into blue  ... </i></p>
</header>
<!-- <ul data-role="narrator" class="info compress">
	<li class="title typewriter" title="telegraph" id="telegraph"></li>
	<li class="title  typewriter" title="clock" id="clock">here | now</li>
</ul> -->
<ul>
	<li><a href="#" id="soundlink" class="corelink">turn on sound</a></li>
	<li><a href="../index.html" id="homelink" class="corelink">return to portfolio</a></li>
</ul>
<hr/>

<ul >
	<li><a href="#events" class="corelink">past events</a></li>
	<li><a href="#artistnotes" class="corelink">artist notes</a></li>
	<li><a href="#sheilanotes" class="corelink">notes from poet Sheila Packa</a></li>
	<li><a href="#filmsamples" class="corelink">film samples</a></li>
	<li><a href="#media" class="corelink">video ingredients</a></li>
	<li><a href="#book1" class="corelink">book ::: night train / red dust</a></li>
	<li><a href="#book2" class="corelink">book ::: night train / blue window</a></li>
	<li><a href="#text" class="corelink">text ::: science</a></li>
	<li><a href="#thanks" class="corelink">thanks</a></li>
</ul>
<hr/>
<article id="events">
	<header>
		<h1><a href="#top">^</a> past events</h1>
	</header>
	<h5>Gimaajii Mino Bimaadizyann Community Center</h5>
	<p>installation in old gymnasium, Duluth, MN</p>
	<p>September 27, 2014 7:00 pm</p>
	
	<p>
	St. Paul's Zeitgeist New Music Ensemble, composer Kathy McTavish and artists:
	</p>
	<p>
		<ul>
		<li>Julie Gard</li><li>
		Rocky Makes Room</li><li>
		Kathy McTavish</li><li>
		Katelynn Monson</li><li>
		Sheila Packa</li><li>
		Kathleen Roberts</li><li>
		Richie Townsend</li><li>
		Jake Vainio</li>
		</ul>
	</p>
	
	<h5>Studio Z, St. Paul</h5>
	<p class="dates">May 16, 2014 7:30 pm</p>
	<p class="dates">May 17, 2014 7:30 pm (double feature with <a href="../originofbirds/index.html">ørigin of birds)</a></p>
	<p class="dates">May 18, 2014 2:00 pm</p>
</article>

<article id="artistnotes">
	<header>
		<h1><a href="#top">^</a> about the project</h1>
			
	</header>
	<p>
	 I created an early sketch of this work for the 2013 Zeitgeist Composer Workshop funded by the Jerome Foundation. This opportunity "is a five-day workshop designed to give emerging composers the opportunity to develop creative ideas and stretch their artistic boundaries in an environment that celebrates exploration and experimentation."
	</p>
	<p>
		With further funding provided by The American Composers Forum JFund and the Minnesota State Arts Board we have expanded the early sketch into a larger work that was first shown live May 16-18 at Studio Z. This work was also released online in early May. A Duluth performance and workshop were held at the end of September. 
	</p>
	<p>
		With this score for Zeitgeist, my goal was to create an immersive sound / video story world - to create a landscape for them to wander, resist, narrate, change. Zeitgeist has over 30 years of experience bringing new music to life. They are experienced improvisational musicians and they often work with non-traditional scores. The Composer Workshop provided an experimental space for exploring new forms and developing new work. It provided time and space for collaborative exploration in which the piece could evolve / transform / distill. I am grateful to Zeitgeist for sharing their creativity and rich soundscape with me. I took sound samples / core samples from our initial time together that I layered back into the larger fabric of the piece to create a geologic record / layered memory. This is an animated, open, shifting story created by our collaborative process. Various iterations are available online.
	</p>
	<p>
		For the live performance of høle in the skY, I created a text / video / minimalist sound installation - a landscape - that encloses the 4 musicians. The core story revolves around planetary climate change / extinction. Specifically, the core text comes from a book I wrote in 2012 called: "night train / blue window" about the last passenger pigeon, Martha, who died in the Cincinatti Zoo September 1, 1914. Another text is laced throughout the piece in counterpoint. It is the story of a girl growing up on the Iron Range of Minnesota. This text is from the book: "Night Train Red Dust: Poems of the Iron Range" by Sheila Packa. It provides an intimate human voice in a sea of rapid climactic change.
	</p>
	<p>
		As a composer, improvisational cellist and installation artist, I am interested in the ways we stain each other. I am drawn to episodic stories, evolving myths, wandering installations, shifting landscapes, phantom exhibits, street music, ephemeral / improvisational / vanishing spaces, inarticulate languages, loose collaborations ... the infinite between. høle in the skY is part of a larger wandering, episodic journey I took for about a year called radiø plutø / the schøol of impermanence. I think of this as a collaborative story caravan. I drew inspiration for the form from things like the Arabian Nights / Canterbury Tales or from loosely structured grassroots movements like idle no more. This journey was enriched by collaborations with cross-disciplinary artists that I worked with along the way. I kept thinking about story looms, the act of weaving ... or graffiti.
	</p>
</article>

<article id="sheilanotes">
	<header>
		<h1><a href="#top">^</a> from Sheila Packa</h1>
			
	</header>
	<p>
		<a href="http://sheilapacka.blogspot.com/2014/05/hle-in-sky.html">blog entry on høle in the skY</a>
	</p>
</article>

<article id="filmsamples">
	<header>
		<h1><a href="#top">^</a> generated film sample</h1>
		<h2>screen recording</h2>
	</header>
		<h5>&raquo; <a href="https://vimeo.com/album/2389836" title="vimeo"> view album on vimeo</a></h5>

	<hr/>
	<h5>høle in the skY / graffiti angel recording 2014 09 20</h5>
	<div class="vimeowrapper16x9" >
		<iframe src="https://player.vimeo.com/video/106702525?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>
</article>
<article id="media">
	<header>
		<h1><a href="#top">^</a> video ingredients</h1>
		<h2>digital maps</h2>
	</header>
	<p>video landscapes that are shown beneath the live text and data &amp; projected around and across the performers</p>
	
	<hr/>
	<h5>høle in the skY: the bridge</h5>
	<div class="vimeowrapper16x9">
		<iframe src="https://player.vimeo.com/video/72398905?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>

	<hr/>
	<h5>digital map #32</h5>
	<div class="vimeowrapper16x9" >
		<iframe src="https://player.vimeo.com/video/92481864?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>

	<hr/>
	<h5>digital map #30</h5>
	<div class="vimeowrapper16x9" >
		<iframe src="https://player.vimeo.com/video/92376701?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> 
	</div>

	<hr/>
	<h5>digital map #34</h5>
	<div class="vimeowrapper16x9" >
		<iframe src="https://player.vimeo.com/video/92686351?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> 
	</div>


	<hr/>
	<h5>digital map #31</h5>
	<div class="vimeowrapper16x9" >
		<iframe src="https://player.vimeo.com/video/92378288?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>

	<hr/>
	<h5>xrAy</h5>
	<div class="vimeowrapper16x9" >
		<iframe src="https://player.vimeo.com/video/67442031?title=0&amp;byline=0&amp;portrait=0" width="600" height="338"frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>
</article>

<article id="book1">
	<header>
		<h1><a href="#top">^</a> book ::: night train / red dust</h1>
		<h2>text</h2>
	</header>
	<p><img style="border: thick #313138 solid;" align="center"  width="200px" src="https://storage.googleapis.com/www.blueboatfilms.com/text/nightTrainRedDust_cov_small.png"/></p>
	<p>
		These poems are about the Iron Range in Minnesota, the Vermilion Trail, and they are stories of travel and derailment about mining, radical politics, unionizing, accordion music and strong women. The book brings together history, geology and the community of people with iron in their veins.  
	</p>
	<p>
		Sheila Packa, the granddaughter of Finnish immigrants, grew up near Biwabik on the Iron Range. She has three books of poems and has edited an anthology of seventy-five Lake Superior regional writers. She has been a recipient of two Loft McKnight Fellowships, one in poetry and one in prose. She has also received fellowships and funding support for projects from the Arrowhead Regional Arts Council. She served as Duluth's Poet Laureate 2010-2012. More information is available at <a href="www.sheilapacka.com">sheilapacka.com</a>.
	</p>
	<p>
		"I excavate these words from a vein of iron….” these poems are “test drills
		and core samples” — a weave of memory, archive, dream, song, story —
		drawn from the history and people of the Iron Range of northeastern Minnesota.
		These pages sound the whistles and roar of the mines, the dust in
		the lungs, the dangerous crossings into a new language, the accordion’s
		breath. Culled from violence and tenderness, bone and ash, ore and light,
		they map a place, a time, a journey through love"   --Pamela Mittlefehldt, PhD and co-editor
		<i>The Heart of All That Is: Reflections on Home</i> Holy Cow! Press
	</p>
	<p>
		Available in bookstores. </br/>
		ISBN 978-0-9843777-7-0</br/>
		Distributor: Ingram</br/>
		$15
	</p>
	<p>To purchase <i>Night Train Red Dust</i> online see: <a href="http://amzn.com/0984377778">amazon.com</a></p>
	<p>For more information about the book, see
		<a href="http://sheilapacka.blogspot.com/2014/03/kumd-radio-womens-words.html">Sheila's blog</a>
	</p>
</article>
<article id="book2">
	<header>
		<h1><a href="#top">^</a> book ::: night train / blue window</h1>
		<h2>the score</h2>
	</header>
	<p><img style="border: thin #000000 solid;" width="200px" src="https://storage.googleapis.com/blueboatfilms-media/text/nighttrainbluewindow_cover_20percent.jpg"/></p>
	<p>
		This book is a companion to an abstract, experimental film also called "night train / blue window." The abstract film and text both center on the ill-fated efforts of a bird named pullman to turn back time to before that day in 1914 when the last passenger pigeon, Martha, died in a cage in the Cincinnati Zoo. 
	</p>
	<p>
		Gary Boelhower writes: "Part of my meditation this morning was night train/blue window. This book is a searing song of loss, grief flame, black hole whole and somehow, somehow, somehow hope. In the reading and seeing, your body may become cage bound, zoo lost, saddened with each dry seed to keep the body's light flying against the dark. You may come to remember that you are holy flame holy wheel holy holy holy. You may learn to say the name of Martha as the sun breaks or moon shines, to say the name of Martha for all of us who are carriers. McTavish gives us the story, the hymn, the lamentation, the praise song, the train, the blue window. This train will take you...	"
	</p>
	<p>
	Available in bookstores. <br/>ISBN: 978-0-9843777-6-3<br/>
	Distributor: Ingram<br/>
	$12
	</p>
	<p>To purchase <i>night train / blue window</i> online see: </p>
	<p>
		<a href="http://www.powells.com/biblio/61-9780984377763-0">powells.com</a>
		<br/>or: <a href="http://amzn.com/098437776X">amazon.com</a>
	</p>

	<p>To download <i>night train / blue window</i> click: </p>
	<p><a href="https://storage.googleapis.com/blueboatfilms-media/text/9780984377763_txt.pdf">the interior text</a></p>
	<p><a href="https://storage.googleapis.com/blueboatfilms-media/text/9780984377763_cov.pdf">the cover</a></p>

</article>
<article id="text">
	<header>
		<h1><a href="#top">^</a> text: science</h1>
	</header>
	<ul class="circle">
		<li><a href="http://en.wikipedia.org/wiki/Martha_(Passenger_Pigeon)">last passenger ...</a></li>
		<li><a href="http://books.google.com/books?hl=en&lr=&id=hdc22GmeX9cC&oi=fnd&pg=PP1&dq=rosenzweig+michael+extinction+species&ots=Up_rp22OF4&sig=5bLtP2lR-sO31et2Q_j9t5yQCCg#v=onepage&q=rosenzweig%20michael%20extinction%20species&f=false">Species Diversity in Space and Time by Michael L. Rosenzweig (particularly starting at page 123)</a></li>
		<li><a href="http://www.nature.com/nature/journal/v471/n7336/full/nature09678.html">Nature: Has the Earth’s sixth mass extinction already arrived?</a></li>
		<li><a href="http://www.nature.com/nature/journal/v427/n6970/full/nature02121.html">Nature: Extinction risk from climate change</a></li>
		<li><a href="http://opinionator.blogs.nytimes.com/2013/11/10/learning-how-to-die-in-the-anthropocene/">Learning How to Die in the Anthropocene (very lyrical writing ... searing)</a></li>
		<li><a href="http://nca2014.globalchange.gov/report">National Climate Assessment</a></li>
		<li><a href="http://350.org/">350.org</a></li>
		<li><a href="http://www.ipcc.ch/">The Intergovernmental Panel on Climate Change (IPCC)</a></li>
		<li><a href="http://www.epa.gov/climatechange/science/indicators/">EPA Climate Change Indicators</a></li>
		<li><a href="http://www.independent.co.uk/environment/nature/oceans-on-brink-of-catastrophe-2300272.html">Oceans on brink of catastrophe</a></li>
		<li><a href="http://www.huffingtonpost.com/2014/04/22/carbon-dioxide-climate-change_n_5187844.html">Happy Earth Day. We Just Reached Another Scary Climate Change Milestone</a></li>
		<li><a href="http://www.globalresearch.ca/death-and-extinction-of-the-bees/5375684">Death and Extinction of the Bees</a></li>
		<li><a href="http://www.motherjones.com/tom-philpott/2012/03/bayer-pesticide-bees-studies">3 New Studies Link Bee Decline to Bayer Pesticide</a></li>
		<li><a href="http://www.wired.com/2013/05/winter-honeybee-losses/">One-Third of U.S. Honeybee Colonies Died Last Winter, Threatening Food Supply</a></li>

		<li><a href="http://www.openstreetmap.org/?mlat=39.1425&mlon=-84.509444&zoom=15#map=15/39.1425/-84.5094">X</a></li>

		<li><a href="http://tropicaldryforest.wordpress.com/research/">thank you: contribution from Jennifer Powers and team</a></li>
		<li><a href="http://www.tc.umn.edu/~stgeorge/Scott_St._George/Welcome.html">thank you: contribution from Scott St. George and team</a></li>
	</ul>
</article>
<article id="thanks">
	<header>
		<h1><a href="#top">^</a> thank you</h1>
	</header>
	<p>
		The høle in the skY project is funded in part by the <a href="http://www.composersforum.org/">American Composers Forum JFund</a>. 

		<!--Equipment funding was provided in part by the <a href="http://aracouncil.org/">Arrowhead Regional Arts Council</a> through the arts and cultural heritage fund as appropriated by the Minnesota State Legislature with money from the Legacy Amendment vote of the people of Minnesota on November 4, 2008. Thank you Minnesota!-->
	</p>
	<p>
		Kathy McTavish is a fiscal year 2014 recipient of an Artist Initiative grant from the Minnesota State Arts Board.  This activity is funded, in part, by the Minnesota State Legislature from the State’s arts and cultural heritage fund with money from the vote of the people of Minnesota on November 4, 2008. 
	</p>
</article>

<audio loop=true id="audio1" src="https://storage.googleapis.com/www.blueboatfilms.com/sound/IVdfd.mp3" type="audio/mpeg">
  Your browser does not support the audio tag.
</audio>

</main>
</div>
</div>
</body>
<script src="../code/velocity.min.js"></script>
<script src="../code/kefir201911.min.js"></script>
<!-- <script src="code/atlasabsence.js"></script> -->
<script>
let width = window.innerWidth, height = window.innerHeight;
let min = Math.min(width, height), max = Math.max(width, height);
let version = (min < 680 || max < 980) ? "small" : "large";
let v = version === "small" ? 0 : 1;
let z = {};
z.tools = {
	randominteger: (min, max) => {
		return Math.floor( min + Math.random()*(max-min));
	},
	logmsg: function(msg) {
		try { 
			console.log("### ::: " + msg); 
		}
		catch(err) { z.tools.logerror(err) }
	},
	logerror: function(error) {
		try { console.log("rusty error ... " + error); }
		catch(err) {}
	},
	randomhighharmonic: () => {
		let multipliers = [10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ];
	},
	randomlowharmonic: () => {
		let multipliers = [5, 7.5, 10.0, 12.5, 13.33, 15, 20];
		return multipliers[ z.tools.randominteger( 0, multipliers.length) ]/2;
	},
	randomkey: (object) => {
		let keys = Object.keys(object);
		let key = keys[z.tools.randominteger(0,keys.length)];
		// z.tools.logmsg("key = " + key);
		return key;
	},
	datestr: (date, options) => {
		if(options===undefined) options = {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"};
		return date.toLocaleTimeString("en-US", options);
		//new Date().toLocaleTimeString("en-US", {year: "numeric", month: "2-digit", day: "numeric", hour12: true, hour: "2-digit", minute: "2-digit", second: "2-digit"});
	},
	togrid: (min=1, max=1, x=1, ndivisions=1) => {
		let dx = Math.floor( (max-min) / ndivisions );
		return Math.floor( ( x-min+dx/2)/dx )*dx + min;
	},
};
//core elements
z.elements = ( () => {
	return {
		body: { el: document.querySelector("body") },
		main: { el: document.querySelector("main") },
		// clock: { el: document.querySelector("#clock") },
		// telegraph: { el: document.querySelector("#telegraph") },
		svg:  { el: document.querySelector("#svg") },
		frames: ["subtextframe", "svgframe", "wordframe", "contentframe"].reduce( (acc, id) => {
			z.tools.logmsg("create frame element ::: " + id);
			acc[id] = { el: document.querySelector("#"+id) };
			return acc;
		}, {}),
	}
})()
	
z.streams = {
	clock: ( () => {
	let dt = 1;
	let date0 = new Date();
	let t0 = Math.floor(date0.getTime()/1000);
	let state0 = { dt: dt, count: 0, date: date0, t: t0, t0: t0 };
	return Kefir.withInterval( dt*1000, emitter => { emitter.emit( { date: new Date() } ) })
			.scan( (state, e) => { 
				state.date = e.date;
				state.t = Math.floor(e.date.getTime()/1000);
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( ),
	dimensions: ( () => {
		let dt = .4;
		const ngrids=[2,2], npasts=[0,0];
		let state0 = { dt: dt, count: 0,
			grid: { nrows: ngrids[v], ncols: ngrids[v], dx: Math.floor(width/ngrids[v]), dy: Math.floor(height/ngrids[v]), sw: 12, pastn: npasts[v] },
			width: width, height: height, 
			max: max, min: min, 
		};
		return Kefir.fromEvents(window, "resize").throttle(dt*1000)
			.scan( (state,e) => {
				state.width = window.innerWidth;
				state.height = window.innerHeight;
				state.max = Math.max(state.width, state.height);
				state.min = Math.min(state.width, state.height);
				state.grid.dx = Math.floor(state.width/state.grid.ncols);
				state.grid.dy = Math.floor(state.height/state.grid.nrows);
				state.grid.sw = Math.floor(Math.max(state.grid.dx*.03, state.grid.dy*.03, 4));
				return state
			}, state0) 
	})( ),
};

z.draw = z => {
	let ntimings = 32;
	let dtiming = Math.floor(400/ntimings);
	const timings = [...Array(ntimings).keys()].reduce( (acc, j) => {
		let duration = 500+(j*dtiming);
		acc[j] = [duration, 900-duration];
	return acc;
	}, []);

	//controls
	( () => { 
		const soundlink = document.querySelector("#soundlink");
		const telegraph = document.querySelector("#telegraph");
		const audio1 = document.querySelector("#audio1");
		const baseurl = "https://storage.googleapis.com/www.blueboatfilms.com/sound/";
		// const tracks = ["IVdfd.mp3", "IVdharmonic.mp3", "IIdmidharmonic.mp3"];
		const tracks = [{url: "soundscape20140501_1.mp3", duration:1360}];
		let soundplaying = false;
		Kefir.fromEvents(soundlink, "click").onValue( e => {
			z.tools.logmsg("play sound !");
			if(!soundplaying) { 
				try {
					let track = tracks[z.tools.randominteger(0,tracks.length)];
					audio1.src = baseurl + track.url;
					let starttime = z.tools.randominteger(0,track.duration);
					audio1.currentTime = starttime;
					z.tools.logmsg("start at " + starttime)
					audio1.play();
					z.tools.logmsg("playback resumed");
					// telegraph.innerHTML =  "(sound on)";
					soundplaying = true;
					soundlink.innerText = "turn off sound";
					soundlink.classList.add("active");
				} catch(e) { z.tools.logerror("dashboard ::: resumeaudio " + e) } 
			}
			else { 
				try {
					document.querySelector("#audio1").pause();
					// telegraph.innerHTML =  "(sound off)";
					soundplaying = false;
					soundlink.innerText = "turn on sound";
					soundlink.classList.remove("active");
				} catch(e) { z.tools.logerror("dashboard ::: suspendaudio " + e) }
			}
		});
	})();
	const playlist = [
		["#fcfbe3", "#191918"], //"warmbw"
	];
	z.streams["color"] = ( dt => {
		let date0 = new Date();
		let t0 = Math.floor(date0.getTime()/1000);
		let state0 = { 
			dt: dt, count: 0,
			choices: playlist[ Math.floor(t0/dt)%playlist.length ]
		};
		return z.streams["clock"].filter( e => e.t%dt===0 )
			.scan( (state, e) => { 
				state.choices = playlist[ Math.floor(e.t/dt)%playlist.length ];
				// state.choices = playlist[ Math.floor(state.count)%playlist.length ];
				state.count = state.count + 1;
				return state;
			}, state0  )
	})( 38 );
	
	z.streams["draw"] = Kefir.combine([z.streams["clock"]], [z.streams["dimensions"], z.streams["color"]], (clock, dimensions, color) => { return {clock:clock, dimensions:dimensions, color:color} })
		.scan( (state, e) => { 
			state.clock = e.clock;
			state.dimensions = e.dimensions;
			state.color = e.color;
			state.count = state.count + 1;
			z.tools.logmsg("color.choices = " + e.color.choices);
			return state;
	}, {clock:{t:0}, dt:1}  );

//box
( dt => {
	const element = document.createElementNS("http://www.w3.org/2000/svg", "rect");
	element.setAttributeNS(null, "id", "box");
	element.setAttributeNS(null, "class", "shape square");
	z.elements["svg"].el.appendChild(element);
	let colors = ["#fcfbe3", "#191918"];
	z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
		try {
			// let color = e.color.choices[z.tools.randominteger(0, e.color.choices.length)];
			Velocity({	
				elements: element, 
				properties: { fillOpacity: 1.0, strokeOpacity: 1.0, fill: colors[1], stroke: colors[0], strokeWidth: z.tools.randominteger(e.dimensions.min/4,e.dimensions.min), strokeDasharray: z.tools.randominteger(e.dimensions.min/10, e.dimensions.min/4), width: e.dimensions.width, height: e.dimensions.height },
				options: { duration: 2000,  delay: 0, easing: "easeInOutQuad" },
			});
		} catch(err) { z.tools.logerror("box animation ::: " + err ) }
	})
})(8);

//line 1
( dt => {
const nelements=[[...Array(4).keys()],[...Array(4).keys()]][v];
const elements = nelements.reduce( (acc, id) => {
	z.tools.logmsg("create line element ::: " + id);
	let el = document.createElementNS("http://www.w3.org/2000/svg", "line");
	el.setAttributeNS(null, "id", "line1_"+ id);
	el.setAttributeNS(null, "class", "shape line");
	z.elements["svg"].el.appendChild(el);
	acc[id] = { el: el };
return acc;
}, []);
const n = elements.length;
const drawings = [
	e => {
		try {
			let count = e.clock.t/dt;
			let timing = timings[z.tools.randominteger(0,timings.length)];
			let duration = Math.floor(dt*timing[0]*n), delay = z.tools.randominteger(0, dt*timing[1]*n/4);
			let j = count%n;
			let element = elements[j];
			let colors = ["#fcfbe3", "#191918"];
			let pigments = ["#006699", "#9a0000", "#ffcc00"];
			// let color = count%n===0 ? "#9a0000" : (count%2===0 ? "#191918" : e.color.choices[z.tools.randominteger(0, e.color.choices.length)]);
			let color = j%n===0 ? pigments[1] : (j%3===1 ? colors[1] : colors[0]);
			let cy = j%2===0 ? 0 : e.dimensions.height;
			// let y1 = -1.0*z.tools.randominteger(0, e.dimensions.height);
			// let y2 = z.tools.randominteger(e.dimensions.height, e.dimensions.height*2);
			let x1 = 0;
			let x2 = e.dimensions.width;
			// Velocity({	
			// 	elements: element.el,
			// 	properties: { strokeOpacity: 1.0, stroke: color},
			// 	options: { duration: duration/2,  delay: delay/2 },
			// });
			Velocity({	
				elements: element.el,
				properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: z.tools.randominteger(e.dimensions.width/4,e.dimensions.width*2), strokeDasharray: z.tools.randominteger(e.dimensions.height/10, e.dimensions.height/2), x1: x1, x2: x2, y1: cy, y2: cy },
				options: { duration: duration,  delay: delay },
			});
		} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
	},
];
z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	drawings[Math.floor(e.clock.t/(dt*elements.length*2))%drawings.length](e);
})
})(1);

//line 2
( dt => {
const nelements=[[...Array(4).keys()],[...Array(4).keys()]][v];
const elements = nelements.reduce( (acc, id) => {
	z.tools.logmsg("create line element ::: " + id);
	let el = document.createElementNS("http://www.w3.org/2000/svg", "line");
	el.setAttributeNS(null, "id", "line2_"+ id);
	el.setAttributeNS(null, "class", "shape line");
	z.elements["svg"].el.appendChild(el);
	acc[id] = { el: el };
return acc;
}, []);
const n = elements.length;
const drawings = [
	e => {
		try {
			let count = e.clock.t/dt;
			let timing = timings[z.tools.randominteger(0,timings.length)];
			let duration = Math.floor(dt*timing[0]*n), delay = z.tools.randominteger(0, dt*timing[1]*n/4);
			let j = count%n;
			let element = elements[j];
			let colors = ["#fcfbe3", "#191918"];
			let pigments = ["#006699", "#9a0000", "#ffcc00"];
			// let color = count%n===0 ? "#9a0000" : (count%2===0 ? "#191918" : e.color.choices[z.tools.randominteger(0, e.color.choices.length)]);
			let color = j%n===0 ? pigments[1] : (j%3===1 ? colors[0] : colors[1]);
			let cx = j%2===0 ? 0 : e.dimensions.width;
			// let y1 = -1.0*z.tools.randominteger(0, e.dimensions.height);
			// let y2 = z.tools.randominteger(e.dimensions.height, e.dimensions.height*2);
			let y1 = 0;
			let y2 = e.dimensions.height;
			// Velocity({	
			// 	elements: element.el,
			// 	properties: { strokeOpacity: 1.0, stroke: color},
			// 	options: { duration: duration/2,  delay: delay/2 },
			// });
			Velocity({	
				elements: element.el,
				properties: { strokeOpacity: 1.0, stroke: color, strokeWidth: z.tools.randominteger(e.dimensions.width/4,e.dimensions.width*2), strokeDasharray: z.tools.randominteger(e.dimensions.height/10, e.dimensions.height/2), x1: cx, x2: cx, y1: y1, y2: y2 },
				options: { duration: duration,  delay: delay },
			});
		} catch(err) { z.tools.logerror("line animation 1 ::: " + err ) }
	},
];
z.streams["draw"].filter(e => e.clock.t%dt===0).onValue( e => {
	drawings[Math.floor(e.clock.t/(dt*elements.length*2))%drawings.length](e);
})
})(1);

};


window.addEventListener('load', e => {
  z.draw(z);
  window.scroll(0,0);
  // window.setTimeout(() => { document.querySelector("#contentframe").style.opacity = 1.0 }, 400);
  // window.setTimeout(() => { document.querySelector("#controls").style.backgroundColor = "rgba(0,0,0,0.0)" }, 6800);
});
// window.addEventListener('beforeunload', e => {
// 	window.scroll(0,0);
// });
</script>
</html>